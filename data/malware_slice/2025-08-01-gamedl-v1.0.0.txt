// File: var/folders/83/v1gvs5x976xdn94tnyk95j8r0000gq/T/tmpotod3arx/gamedl/package/index.js
// ======================================================================
Line 1: const puppeteer = require('puppeteer')
Line 2: const fs = require('fs')
Line 3: const path = require('path')
Line 13: const filesNow = fs.readdirSync(downloadPath)
Line 14: existingFiles.includes(f)
Line 16: {
      
      const readyFile = newFiles.find(f => !f.endsWith('.crdownload'));
      if (readyFile) return readyFile;
    }
Line 18: const readyFile = newFiles.find(f => !f.endsWith('.crdownload'))
Line 25: {
  const downloadPath = path.resolve(process.cwd(), 'downloads');
  if (!fs.existsSync(downloadPath)) fs.mkdirSync(downloadPath);

  const browser = await puppeteer.launch({
    headless: false, 
    args: ['--no-sandbox', '--disable-setuid-sandbox']
  });

  const page = await browser.newPage();

  const client = await page.target().createCDPSession();
  await client.send('Page.setDownloadBehavior', {
    behavior: 'allow',
    downloadPath,
  });

  const url = 'https://fuckingfast.co/omol7vklou0b#WUCHANG_Fallen_Feathers_--_fitgirl-repacks.site_--_.part01.rar';
  await page.goto(url, { waitUntil: 'networkidle2' });

  await page.waitForSelector('button.link-button', { timeout: 15000 });
  
  
  const filesBefore = fs.readdirSync(downloadPath);

 
  const popup1Promise = new Promise(resolve => {
    browser.once('targetcreated', async target => {
      if (target.type() === 'page') resolve(await target.page());
    });
  });
  await page.click('butto...
Line 29: const browser = await puppeteer.launch({
    headless: false, 
    args: ['--no-sandbox', '--disable-setuid-sandbox']
  })
Line 31: _tmp_1.args = ['--no-sandbox', '--disable-setuid-sandbox']
Line 36: page.target().createCDPSession()
Line 37: await client.send('Page.setDownloadBehavior', {
    behavior: 'allow',
    downloadPath,
  })
Line 42: const url = 'https://fuckingfast.co/omol7vklou0b#WUCHANG_Fallen_Feathers_--_fitgirl-repacks.site_--_.part01.rar'
Line 43: page.goto(url, { waitUntil: 'networkidle2' })
Line 48: const filesBefore = fs.readdirSync(downloadPath)
Line 52: browser.once('targetcreated', async target => {
      if (target.type() === 'page') resolve(await target.page());
    })
Line 53: target.page()
Line 65: browser.once('targetcreated', async target => {
      if (target.type() === 'page') resolve(await target.page());
    })
Line 66: target.page()
Line 73: popup2.bringToFront()
Line 74: await popup2.waitForSelector('a.btn.btn-dark, a[href*=".rar"], a[href*="download"]', { timeout: 15000 })
Line 77: await popup2.click('a.btn.btn-dark, a[href*=".rar"], a[href*="download"]')
