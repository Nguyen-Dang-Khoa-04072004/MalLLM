api
    .request('POST', '/c/v1/sources', {
      origin: api.apiOrigin,
      auth: true,
      data: {
        schemaId: json.schema.id,
        branchId: json.branch.id
      }
    })
    .then(res => {
      cancelWait();
      let result = res.body;
      let existingSources = json.sources || [];
      let sources = _.sortBy(
        _.filter(
          result.sources,
          source =>
            _.find(
              existingSources,
              existingSource => source.id === existingSource.id
            ) === undefined
        ),
        'name'
      );

      let prompts = [
        {
          type: 'fuzzypath',
          name: 'folder',
          excludePath: path =>
            path.startsWith('node_modules') || path.startsWith('.git'),
          itemType: 'directory',
          rootPath: '',
          message: 'Select a folder to save the analytics wrapper in',
          default: '',
          suggestOnly: false
        }
      ];

      if (!sourceToAdd) {
     ...