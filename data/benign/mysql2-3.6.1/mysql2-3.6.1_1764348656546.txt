const authWithKey = serverKey => {
    const _password = encrypt(password, scramble, serverKey);
    state = STATE_FINAL;
    return _password;
  }
columns.forEach(val => {
      if (val === null) {
        packet.writeNull();
        return;
      }
      if (typeof val === 'undefined') {
        packet.writeInt8(0);
        return;
      }
      packet.writeLengthCodedString(val.toString(10), encoding);
    })
throw new Error(
          `Unexpected data in AuthMoreData packet received by ${PLUGIN_NAME} plugin in STATE_FINAL state.`
        );
this.stream.on('data', data => {
      if (this.connectTimeout) {
        Timers.clearTimeout(this.connectTimeout);
        this.connectTimeout = null;
      }
      this.packetParser.execute(data);
    })
function enableCompression = function enableCompression(connection) {
  connection._lastWrittenPacketId = 0;
  connection._lastReceivedPacketId = 0;

  connection._handleCompressedPacket = handleCompressedPacket;
  connection._inflatedPacketsParser = new PacketParser(p => {
    connection.handlePacket(p);
  }, 4);
  connection._inflatedPacketsParser._lastPacket = 0;
  connection.packetParser = new PacketParser(packet => {
    connection._handleCompressedPacket(packet);
  }, 7);

  connection.writeUncompressed = connection.write;
  connection.write = writeCompressed;

  const seqqueue = require('seq-queue');
  connection.inflateQueue = seqqueue.createQueue();
  connection.deflateQueue = seqqueue.createQueue();
}
const secureSocket = Tls.connect({
      rejectUnauthorized,
      requestCert: rejectUnauthorized,
      secureContext,
      isServer: false,
      socket: this.stream,
      servername
    }, () => {
      secureEstablished = true;
      if (rejectUnauthorized) {
        if (typeof servername === 'string' && verifyIdentity) {
          const cert = secureSocket.getPeerCertificate(true);
          const serverIdentityCheckError = Tls.checkServerIdentity(servername, cert);
          if (serverIdentityCheckError) {
            onSecure(serverIdentityCheckError);
            return;
          }
        }
      }
      onSecure();
    })
secureSocket.on('error', err => {
      if (secureEstablished) {
        this._handleNetworkError(err);
      } else {
        onSecure(err);
      }
    })
secureSocket.on('data', data => {
      this.packetParser.execute(data);
    })
(_tmp_41 = this.packetParser).execute
