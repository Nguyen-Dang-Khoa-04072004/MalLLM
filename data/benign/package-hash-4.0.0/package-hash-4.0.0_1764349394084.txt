const readFile = {
  async: promisify(fs.readFile),
  sync: fs.readFileSync
}
const tryReadFile = {
  async (file) {
    return readFile.async(file).catch(() => null)
  },

  sync (file) {
    try {
      return fs.readFileSync(file)
    } catch (err) {
      return null
    }
  }
}
_tmp_17.async = async
readFile.async(file).catch(() => null)
zalgo.run(tryReadFile, path.join(dir, '.git', m[1]))
_tmp_0.push(zalgo.run(readFile, pkgPath))
_tmp_0.push(zalgo.run(tryReadFile, path.join(dir, '.git', 'HEAD'))
      .then(head => {
        if (!head) return []

        return zalgo.all([
          zalgo.run(tryReadFile, path.join(dir, '.git', 'packed-refs')),
          git.tryGetRef(zalgo, dir, head),
          git.tryGetDiff(zalgo, dir)
        ])
          .then(results => {
            return [head].concat(results.filter(Boolean))
          })
      }))
_tmp_3.push(zalgo.run(tryReadFile, path.join(dir, '.git', 'packed-refs')))
