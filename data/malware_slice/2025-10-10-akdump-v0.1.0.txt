// File: tmp/tmp0oypzoa4/akdump/package/commands/help.js
// ======================================================================
Line 2: const fs = require('fs')
Line 3: const path = require('path')
Line 19: {
  const sep = '+' + colWidths.map(w => '-'.repeat(w + 2)).join('+') + '+'
  let out = sep + '\n'
  // header row
  out += '| ' + pad('Name Commands', colWidths[0]) + ' | ' + pad('Categorie', colWidths[1]) + ' |\n'
  out += sep + '\n'
  rows.forEach(r => {
    out += '| ' + pad(r[0], colWidths[0]) + ' | ' + pad(r[1], colWidths[1]) + ' |\n'
  })
  out += sep + '\n'
  return out
}
Line 20: colWidths.map(w => '-'.repeat(w + 2)).join('+')
Line 23: out += '| ' + pad('Name Commands', colWidths[0]) + ' | ' + pad('Categorie', colWidths[1]) + ' |\n'
Line 25: {
    out += '| ' + pad(r[0], colWidths[0]) + ' | ' + pad(r[1], colWidths[1]) + ' |\n'
  }
Line 26: out += '| ' + pad(r[0], colWidths[0]) + ' | ' + pad(r[1], colWidths[1]) + ' |\n'
Line 36: {
      console.log(ASCII_HEADER)
      const commandsDir = path.join(__dirname)
      const files = fs.readdirSync(commandsDir).filter(f => f.endsWith('.js') && f !== 'help.js')

      const rows = files.map(file => {
        try {
          const mod = require(path.join(commandsDir, file))
          const meta = mod.meta || {}
          const name = meta.name || file.replace('.js','')
          const category = meta.category || 'Uncategorized'
          return [name, category]
        } catch (e) {
          return [file.replace('.js',''), 'Uncategorized']
        }
      })

      const col0 = Math.max(12, ...rows.map(r => r[0].length))
      const col1 = Math.max(9, ...rows.map(r => r[1].length))
      const table = drawTable(rows, [col0, col1])
      console.log(table)
    }
Line 38: path.join(__dirname)
Line 39: const files = fs.readdirSync(commandsDir).filter(f => f.endsWith('.js') && f !== 'help.js')
Line 41: const rows = files.map(file => {
        try {
          const mod = require(path.join(commandsDir, file))
          const meta = mod.meta || {}
          const name = meta.name || file.replace('.js','')
          const category = meta.category || 'Uncategorized'
          return [name, category]
        } catch (e) {
          return [file.replace('.js',''), 'Uncategorized']
        }
      })
Line 43: const mod = require(path.join(commandsDir, file))
Line 47: _tmp_7.push(category)
Line 49: _tmp_8.push(file.replace('.js',''))
Line 53: const col0 = Math.max(12, ...rows.map(r => r[0].length))
Line 54: const col1 = Math.max(9, ...rows.map(r => r[1].length))
Line 55: const table = drawTable(rows, [col0, col1])

// File: tmp/tmp0oypzoa4/akdump/package/index.js
// ======================================================================
Line 2: _tmp_0 = require('commander')
Line 3: const path = require('path')
Line 6: program
  .name('akdump')
Line 11: path.join(__dirname, 'commands')
Line 12: const fs = require('fs')
Line 15: (_tmp_4 = fs.readdirSync(commandsDir))
Line 16: file.endsWith('.js')
Line 17: const cmd = require(path.join(commandsDir, file))
Line 18: cmd.register(program)

// File: tmp/tmp0oypzoa4/akdump/package/scripts/postinstall.js
// ======================================================================
Line 3: const chalk = require('chalk')
Line 4: const ora = require('ora')
Line 5: const figlet = require('figlet')
Line 12: figlet.textSync('akdump', { horizontalLayout: 'default' })
Line 13: chalk.gray('{dev#byaka}\n')
Line 17: _tmp_1.push("Préparation du registre local")
Line 18: _tmp_1.push("Téléchargement des artefacts")
Line 19: _tmp_1.push("Vérification des signatures")
Line 20: _tmp_1.push("Décompression des modules")
Line 21: _tmp_1.push("Optimisation des liaisons")
Line 22: _tmp_1.push("Finalisation")
Line 27: {
    spinner.text = `${phases[i]} — ${Math.round(((i + 1) / phases.length) * 100)}%`
    // variation de durée pour l'effet
    await sleep(700 + Math.floor(Math.random() * 800))
  }
Line 28: spinner.text = `${phases[i]} — ${Math.round(((i + 1) / phases.length) * 100)}%`
Line 34: spinner.stop()
Line 36: {
    const pct = Math.round((i / totalSteps) * 100)
    const bars = '█'.repeat(Math.round((i / totalSteps) * 20))
    const spaces = ' '.repeat(20 - bars.length)
    process.stdout.write(`\r${chalk.green('[')}${chalk.green(bars)}${spaces}${chalk.green(']')} ${pct}%`)
    await sleep(40)
  }
Line 40: process.stdout.write(`\r${chalk.green('[')}${chalk.green(bars)}${spaces}${chalk.green(']')} ${pct}%`)
Line 46: chalk.gray('Note: ceci est une animation esthétique exécutée par postinstall.\n')
Line 51: process.exit(0)

// File: tmp/tmp0oypzoa4/akdump/package/scripts/postupdate.js
// ======================================================================
Line 3: const chalk = require('chalk')
Line 4: const ora = require('ora')
Line 5: const figlet = require('figlet')
Line 11: figlet.textSync('akdump', { horizontalLayout: 'default' })
Line 12: chalk.gray('{dev#byaka}  — update\n')
Line 26: chalk.gray('Note : animation postupdate (esthétique).')
Line 31: process.exit(0)
