let existingFetcher = state.fetchers.get(key)
let fetcher = getSubmittingFetcher(submission, existingFetcher)
updateState({ fetchers: new Map(state.fetchers) })
let fetchRequest = createClientSideRequest(
      init.history,
      path,
      abortController.signal,
      submission
    )
init.history
path
abortController.signal
submission
fetchControllers.set(key, abortController)
let actionResult = await callLoaderOrAction(
      "action",
      fetchRequest,
      match,
      requestMatches,
      manifest,
      mapRouteProperties,
      basename
    )
fetchRequest
match
requestMatches
manifest
mapRouteProperties
basename
fetchControllers.get(key) === abortController
fetchControllers.delete(key)
isRedirectResult(actionResult)
fetchControllers.delete(key)
isErrorResult(actionResult)
isDeferredResult(actionResult)
throw getInternalRouterError(400, { type: "defer-action" });
let revalidationRequest = createClientSideRequest(
      init.history,
      nextLocation,
      abortController.signal
    )
let matches =
      state.navigation.state !== "idle"
        ? matchRoutes(routesToUse, state.navigation.location, basename)
        : state.matches
state.navigation.state !== "idle" ? matchRoutes(routesToUse, state.navigation.location, basename) : state.matches
matchRoutes(routesToUse, state.navigation.location, basename)
invariant(matches, "Didn't find any matches after fetcher action")
let loadFetcher = getLoadingFetcher(submission, actionResult.data)
state.fetchers.set(key, loadFetcher)
_tmp_232 = getMatchesToLoad(
      init.history,
      state,
      matches,
      submission,
      nextLocation,
      isRevalidationRequired,
      cancelledDeferredRoutes,
      cancelledFetcherLoads,
      fetchLoadMatches,
      fetchRedirectIds,
      routesToUse,
      basename,
      { [match.route.id]: actionResult.data },
      undefined // No need to send through errors since we short circuit above
    )
state
matches
submission
isRevalidationRequired
cancelledDeferredRoutes
cancelledFetcherLoads
fetchLoadMatches
fetchRedirectIds
routesToUse
revalidatingFetchers
      .filter((rf) => rf.key !== key)
      .forEach((rf) => {
        let staleKey = rf.key;
        let existingFetcher = state.fetchers.get(staleKey);
        let revalidatingFetcher = getLoadingFetcher(
          undefined,
          existingFetcher ? existingFetcher.data : undefined
        );
        state.fetchers.set(staleKey, revalidatingFetcher);
        if (fetchControllers.has(staleKey)) {
          abortFetcher(staleKey);
        }
        if (rf.controller) {
          fetchControllers.set(staleKey, rf.controller);
        }
      })
rf.key !== key
updateState({ fetchers: new Map(state.fetchers) })
_tmp_239 = await callLoadersAndMaybeResolveData(
        state.matches,
        matches,
        matchesToLoad,
        revalidatingFetchers,
        revalidationRequest
      )
await callLoadersAndMaybeResolveData(
        state.matches,
        matches,
        matchesToLoad,
        revalidatingFetchers,
        revalidationRequest
      )
state.matches
matches
revalidatingFetchers
revalidationRequest
fetchReloadIds.delete(key)
fetchControllers.delete(key)
revalidatingFetchers.forEach((r) => fetchControllers.delete(r.key))
let redirect = findRedirect(results)
_tmp_241 = processLoaderData(
      state,
      state.matches,
      matchesToLoad,
      loaderResults,
      undefined,
      revalidatingFetchers,
      fetcherResults,
      activeDeferreds
    )
state
state.matches
undefined
revalidatingFetchers
activeDeferreds
state.fetchers.set(key, doneFetcher)
let existingFetcher = state.fetchers.get(key)
let loadingFetcher = getLoadingFetcher(
      submission,
      existingFetcher ? existingFetcher.data : undefined
    )
submission
existingFetcher ? existingFetcher.data : undefined
state.fetchers.set(key, loadingFetcher)
fetchControllers.set(key, abortController)
fetchControllers.get(key) === abortController
fetchControllers.delete(key)
(_tmp_258 = state.fetchers).delete
let fetcher = state.fetchers.get(key)
<operator>.formatString("Expected fetcher: ", key, "")
abortFetcher(key)
fetchReloadIds.delete(key)
