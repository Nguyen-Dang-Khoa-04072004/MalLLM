// File: package/airload.js
// ======================================================================
Line 7: $.ajax(url, $.extend(options, {
      headers: {'X-Airload': 'true'},
      success:function(rsp, status, request){
        if( typeof(rsp) == "string" ){
            if(!skip_state){
              window.history.pushState(null , "" ,url);
            }
          var el = document.createElement('div');
          el.innerHTML = rsp;
          if($('title', el)){
            document.title = $('title', el).html();
          }

          for(var i in that.slot){
            var replaceBy = $(that.slot[i], el);
            if(replaceBy.length>0){
              $(that.slot[i]).replaceWith(replaceBy);
            }else{
              $(that.slot[i]).html('');
            }
          }

          $('body').scrollTop(0)
        }
        that.success();
      },
      error:function(rsp){
        if(rsp.readyState==4 && rsp.status==320){
            options.method = 'GET';
            options.data = undefined;
            $.loadPage.call(that, rsp.getResponseHeader('location'), options, ski...
Line 17: $('title', el).html()
Line 20: for(var i in that.slot){
            var replaceBy = $(that.slot[i], el);
            if(replaceBy.length>0){
              $(that.slot[i]).replaceWith(replaceBy);
            }else{
              $(that.slot[i]).html('');
            }
          }
Line 21: var replaceBy = $(that.slot[i], el)
Line 22: {
              $(that.slot[i]).replaceWith(replaceBy);
            }
Line 23: $(that.slot[i]).replaceWith(replaceBy)
Line 24: {
              $(that.slot[i]).html('');
            }
Line 25: $(that.slot[i]).html('')
Line 37: $.loadPage.call(that, rsp.getResponseHeader('location'), options, skip_state)
Line 44: that.complete()
Line 52: $(el).bind('submit', function(e){
    try{
      var el = e.target;
      if(el.tagName!='FORM'){
        el = $(el).parents('form');
        if(el.length==0){
          return;
        }
      }
      el = $(el);
      if(!el.hasClass('external') && !el.attr('target')){
        e.stopPropagation();
        e.preventDefault();
        var url = el.attr('action');
        if(!url){
          url = document.location.href;
        }

        var uploads = $('input[type=file]', el);
        if(uploads.length>0){
          var formData = new FormData();
          $(el.serializeArray()).each(function(i, item){
            formData.append(item.name, item.value);
          });

          uploads.each(function(i, ipt){
            formData.append($(ipt).attr('name'), ipt.files[0]);
          });

          $.loadPage.call(that, url, {
            method: el.attr('method'),
            data: formData,
            cache: false,
            processData: false,
            contentType: false
   ...
Line 62: {
        e.stopPropagation();
        e.preventDefault();
        var url = el.attr('action');
        if(!url){
          url = document.location.href;
        }

        var uploads = $('input[type=file]', el);
        if(uploads.length>0){
          var formData = new FormData();
          $(el.serializeArray()).each(function(i, item){
            formData.append(item.name, item.value);
          });

          uploads.each(function(i, ipt){
            formData.append($(ipt).attr('name'), ipt.files[0]);
          });

          $.loadPage.call(that, url, {
            method: el.attr('method'),
            data: formData,
            cache: false,
            processData: false,
            contentType: false
          });
        }else{
          $.loadPage.call(that, url, {
            method: el.attr('method'),
            data: el.serialize(),
          });
        }
      }
Line 65: el.attr('action')
Line 70: var uploads = $('input[type=file]', el)
Line 73: $(el.serializeArray()).each(function(i, item){
            formData.append(item.name, item.value);
          })
Line 77: uploads.each(function(i, ipt){
            formData.append($(ipt).attr('name'), ipt.files[0]);
          })
Line 78: formData.append($(ipt).attr('name'), ipt.files[0])
Line 81: $.loadPage.call(that, url, {
            method: el.attr('method'),
            data: formData,
            cache: false,
            processData: false,
            contentType: false
          })
Line 82: el.attr('method')
Line 89: $.loadPage.call(that, url, {
            method: el.attr('method'),
            data: el.serialize(),
          })
Line 90: el.attr('method')
Line 102: $(el).bind('click', function(e){
    try{
      var el = e.target;
      if(el.tagName!='A'){
        el = $(el).parents('a');
        if(el.length==0){
          return;
        }
      }
      el = $(el);
      var href = el.attr('href');      
      if(!el.hasClass('external') && href!=undefined && !el.attr('target')){
        if( href == '' ){
          href = document.location.href;
        }
        if(href.substr(0,1)!='#' && !e.metaKey){
          e.stopPropagation();
          e.preventDefault();
          $.loadPage.call(that, href);
          return false;
        }
      }
    }catch(err){
      e.stopPropagation();
      e.preventDefault();
      if(console && console.error) console.error(err);
      return false;
    }
  })
Line 112: el.attr('href')
Line 113: el.hasClass('external')
Line 120: $.loadPage.call(that, href)
Line 133: {
  var context = $.extend({
      requestIdx:0,
      slot: ['.main-content'],
      success: function(){},
      start: function(){},
      error: function(rsp){
        if(rsp.responseText){
          window.history.pushState(null , "" ,url);
          document.body.innerHTML = rsp.responseText;
        }
      },
      complete: function(){}
    }, cfg);
  $.pageReady.call(context, el);
  window.onpopstate=function(s){
    $.loadPage.call(context, document.location.href, {}, true);
  }
}
Line 134: var context = $.extend({
      requestIdx:0,
      slot: ['.main-content'],
      success: function(){},
      start: function(){},
      error: function(rsp){
        if(rsp.responseText){
          window.history.pushState(null , "" ,url);
          document.body.innerHTML = rsp.responseText;
        }
      },
      complete: function(){}
    }, cfg)
Line 136: _tmp_21.slot = ['.main-content']
Line 147: $.pageReady.call(context, el)
Line 149: $.loadPage.call(context, document.location.href, {}, true)
Line 153: var S=function(e){var t,n,r,o,i,a,s,u,l,c,f,p,d,h,g,v,m,y,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,k=ae(),E=ae(),S=ae(),D=function(e,t){return e===t&&(f=!0),0},N={}.hasOwnProperty,j=[],A=j.pop,L=j.push,q=j.push,H=j.slice,O=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",I="\\["+R+"*("+M+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+R+"*\\]",W=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",$=new RegExp(R+"+","g"),B=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),F=new RegExp("^"+R+"*,"+R+"*"),_=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),U=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),z=new RegExp(W),X=new RegExp("^"+M+"$"),V={ID:new RegExp("^#("+M+")")...
