const signInWindow = async(url) => {
    window.removeEventListener('message', callback);

    const windowArea = {
        width: window.outerWidth < 440 ? window.outerWidth : 440,
        height: Math.floor(window.outerHeight * 0.8),
    };

    if (windowArea.width < 360) { windowArea.width = 360; }
    if (windowArea.height < 630) { windowArea.height = 630; }
    windowArea.left = Math.floor(window.screenX + ((window.outerWidth - windowArea.width) / 2));
    windowArea.top = Math.floor(window.screenY + ((window.outerHeight - windowArea.height) / 8));

    windowOpts += `width=${windowArea.width},`;
    windowOpts += `height=${windowArea.height},`;
    windowOpts += `left=${windowArea.left},`;
    windowOpts += `top=${windowArea.top},`;

    authWindow = window.open(url, 'profileLogin', windowOpts);

    return new Promise((resolve, reject) => {
        callback = receiveMessage(resolve, reject);
        window.addEventListener('message', callback, false);
    });
}