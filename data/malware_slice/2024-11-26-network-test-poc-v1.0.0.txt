// File: tmp/tmpfvhzioi9/network-test-poc/package/index.js
// ======================================================================
Line 1: const dgram = require('dgram')
Line 8: {
    const parts = domain.split('.');
    const bufferArray = [];
    parts.forEach((part) => {
        bufferArray.push(part.length); // Length of each part
        bufferArray.push(...Buffer.from(part)); // ASCII representation of the part
    });
    bufferArray.push(0); // Null terminator for the domain
    return Buffer.from(bufferArray);
}
Line 10: const bufferArray = []
Line 12: bufferArray.push(part.length)
Line 13: bufferArray.push(...Buffer.from(part))
Line 15: bufferArray.push(0)
Line 16: Buffer.from(bufferArray)
Line 20: {
    const header = Buffer.from([
        0x12, 0x34, // Transaction ID
        0x01, 0x00, // Flags: standard query
        0x00, 0x01, // Questions: 1
        0x00, 0x00, // Answer RRs: 0
        0x00, 0x00, // Authority RRs: 0
        0x00, 0x00, // Additional RRs: 0
    ]);

    const question = Buffer.concat([
        domainToBytes(domain), // Domain name
        Buffer.from([0x00, 0x01, 0x00, 0x01]), // Type A, Class IN
    ]);

    return Buffer.concat([header, question]);
}
Line 21: Buffer.from([
        0x12, 0x34, // Transaction ID
        0x01, 0x00, // Flags: standard query
        0x00, 0x01, // Questions: 1
        0x00, 0x00, // Answer RRs: 0
        0x00, 0x00, // Authority RRs: 0
        0x00, 0x00, // Additional RRs: 0
    ])
Line 22: _tmp_0.push(0x34)
Line 23: _tmp_0.push(0x00)
Line 24: _tmp_0.push(0x01)
Line 25: _tmp_0.push(0x00)
Line 26: _tmp_0.push(0x00)
Line 27: _tmp_0.push(0x00)
Line 30: const question = Buffer.concat([
        domainToBytes(domain), // Domain name
        Buffer.from([0x00, 0x01, 0x00, 0x01]), // Type A, Class IN
    ])
Line 31: _tmp_1.push(domainToBytes(domain))
Line 32: _tmp_1.push(Buffer.from([0x00, 0x01, 0x00, 0x01]))
Line 35: _tmp_3.push(question)
Line 40: const client = dgram.createSocket('udp4')
Line 47: client.send(query, dnsPort, dnsServer, (err) => {
    if (err) {
        console.error('Error sending DNS query:', err);
        client.close();
    } else {
        console.log('DNS query sent.');
    }
})
