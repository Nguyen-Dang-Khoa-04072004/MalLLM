function createFilter = function createFilter(pattern) {
    const trimmed = pattern.trim()
    const spacePos = trimmed.indexOf(" ")
    const task = spacePos < 0 ? trimmed : trimmed.slice(0, spacePos)
    const args = spacePos < 0 ? "" : trimmed.slice(spacePos)
    const matcher = new Minimatch(swapColonAndSlash(task), { nonegate: true })
    const match = matcher.match.bind(matcher)

    return { match, task, args }
}
const matcher = new Minimatch(swapColonAndSlash(task), { nonegate: true })
pattern.replace(ARGS_PATTERN, (whole, indirectionMark, id, options) => {
        if (indirectionMark != null) {
            throw Error(`Invalid Placeholder: ${whole}`)
        }
        if (id === "@") {
            return shellQuote.quote(args)
        }
        if (id === "*") {
            return shellQuote.quote([args.join(" ")])
        }

        const position = parseInt(id, 10)
        if (position >= 1 && position <= args.length) {
            return shellQuote.quote([args[position - 1]])
        }

        // Address default values
        if (options != null) {
            const prefix = options.slice(0, 2)

            if (prefix === ":=") {
                defaults[id] = shellQuote.quote([options.slice(2)])
                return defaults[id]
            }
            if (prefix === ":-") {
                return shellQuote.quote([options.slice(2)])
            }

            throw Error(`Invalid Placeholder: ${whole}`)
        }
        if (defaults[id] != null) {
   ...
