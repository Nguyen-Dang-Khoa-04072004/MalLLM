function constructJavascriptFunction = function constructJavascriptFunction(data) {
  /*jslint evil:true*/

  var source = '(' + data + ')',
      ast    = esprima.parse(source, { range: true }),
      params = [],
      body;

  if ('Program'             !== ast.type         ||
      1                     !== ast.body.length  ||
      'ExpressionStatement' !== ast.body[0].type ||
      'FunctionExpression'  !== ast.body[0].expression.type) {
    throw new Error('Failed to resolve function');
  }

  ast.body[0].expression.params.forEach(function (param) {
    params.push(param.name);
  });

  body = ast.body[0].expression.body.range;

  // Esprima's ranges include the first '{' and the last '}' characters on
  // function expressions. So cut them out.
  return new Function(params, source.slice(body[0]+1, body[1]-1));
}
function Schema = function Schema(definition) {
  this.include  = definition.include  || [];
  this.implicit = definition.implicit || [];
  this.explicit = definition.explicit || [];

  this.implicit.forEach(function (type) {
    if (type.loadKind && 'scalar' !== type.loadKind) {
      throw new YAMLException('There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.');
    }
  });

  this.compiledImplicit = compileList(this, 'implicit', []);
  this.compiledExplicit = compileList(this, 'explicit', []);
  this.compiledTypeMap  = compileMap(this.compiledImplicit, this.compiledExplicit);
}
exec(command, function(err, stdout, stderr){
           // grunt.log.writeln(command);
           // grunt.log.writeflags(options);

            var istanbul = require('istanbul');
            var Report = istanbul.Report;
            Report.register(gradic.RadicReport);

            var report = Report.create('radic', {
                    dir: dir,
                    useFrontMatter: options.useFrontMatter,
                    frontMatterPath: options.frontMatterPath,
                    templateDir: options.templateDir,
                    vendorDir: options.vendorDir
                }),
                collector = new istanbul.Collector;

            collector.add(JSON.parse(fs.readFileSync(path.join(dir, 'coverage.json'), 'utf8')));

            //grunt.log.writeln(dir);
            report.on('done', function () { console.log('done'); taskDone(); });
            report.writeReport(collector);

        })
