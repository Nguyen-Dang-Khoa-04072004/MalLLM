// File: tmp/tmpvpt00tlg/ip-logger-bg/package/cli.js
// ======================================================================
Line 3: _tmp_0 = require('child_process')
Line 4: const path = require('path')
Line 8: {
  // Khởi động dịch vụ ở nền
  const child = spawn('node', [path.join(__dirname, 'index.js')], {
    detached: true,
    stdio: 'ignore'
  });
  child.unref();
  console.log('IP Logger đã khởi động ở chế độ nền.');
  process.exit(0);
}
Line 10: const child = spawn('node', [path.join(__dirname, 'index.js')], {
    detached: true,
    stdio: 'ignore'
  })
Line 16: process.exit(0)
Line 19: {
  console.log('Sử dụng: ip-logger [start|stop]');
}
Line 20: console.log('Sử dụng: ip-logger [start|stop]')

// File: tmp/tmpvpt00tlg/ip-logger-bg/package/index.js
// ======================================================================
Line 3: const fs = require('fs-extra')
Line 4: const path = require('path')
Line 5: _tmp_2 = require('child_process')
Line 6: const cron = require('node-cron')
Line 10: path.join(homeDir, 'Documents', 'logs.txt')
Line 17: {
    // Thực thi lệnh curl
    exec('curl -s ifconfig.me', (error, stdout, stderr) => {
      if (error) {
        console.error(`Lỗi khi thực thi curl: ${error}`);
        return;
      }
      
      const ip = stdout.trim();
      const timestamp = new Date().toISOString();
      const logEntry = `${timestamp}: ${ip}\n`;
      
      // Ghi vào file log
      fs.appendFileSync(logsPath, logEntry);
      console.log(`Đã ghi IP: ${ip}`);
    });
  }
Line 19: exec('curl -s ifconfig.me', (error, stdout, stderr) => {
      if (error) {
        console.error(`Lỗi khi thực thi curl: ${error}`);
        return;
      }
      
      const ip = stdout.trim();
      const timestamp = new Date().toISOString();
      const logEntry = `${timestamp}: ${ip}\n`;
      
      // Ghi vào file log
      fs.appendFileSync(logsPath, logEntry);
      console.log(`Đã ghi IP: ${ip}`);
    })
Line 25: stdout.trim()
Line 42: cron.schedule('*/5 * * * * *', logIp)

// File: tmp/tmpvpt00tlg/ip-logger-bg/package/install.js
// ======================================================================
Line 1: const fs = require('fs-extra')
Line 2: const path = require('path')
Line 3: _tmp_0 = require('child_process')
Line 7: path.join(homeDir, 'Library', 'LaunchAgents')
Line 8: path.join(launchAgentsDir, 'com.iplogger.plist')
Line 22: process.execPath
Line 23: path.join(__dirname, 'index.js')
Line 30: path.join(homeDir, 'Documents', 'ip-logger-out.log')
Line 32: path.join(homeDir, 'Documents', 'ip-logger-err.log')
Line 40: execSync(`chmod +x ${path.join(__dirname, 'index.js')}`)
Line 41: execSync(`chmod +x ${path.join(__dirname, 'cli.js')}`)
