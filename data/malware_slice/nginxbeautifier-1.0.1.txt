// File: package/nginxbeautifier.js
// ======================================================================
Line 30: this.toString()
Line 31: isFinite(position)
Line 132: seperator2Regex.test(input)
Line 152: {
        var placeHolder = "#$#%#$#placeholder" + cnt + "#$#%#$#";
        extracted[placeHolder] = seperator1 + textInBetween + seperator2;
        input = input.replace(extracted[placeHolder], placeHolder);
    }
Line 154: extracted[placeHolder] = seperator1 + textInBetween + seperator2
Line 155: input = input.replace(extracted[placeHolder], placeHolder)
Line 162: for (var key in extracted) {
                textToFix = textToFix.replace(key, extracted[key]);
            }
Line 163: textToFix = textToFix.replace(key, extracted[key])
Line 180: single_line.trim()
Line 201: {
            newline = 0;
            var line = splittedByLines[index] = strip_line(splittedByLines[index]);
            if (line != "}" && line != "{") {
                var i = line.indexOf("}")
                if (i >= 0) {
                    splittedByLines[index] = strip_line(line.slice(0, i - 1));
                    splittedByLines.insert(index + 1, "}");
                    var l2 = strip_line(line.slice(i + 1));
                    if (l2 != "")
                        splittedByLines.insert(index + 2, strip_line(line.slice(i + 1)));
                    line = splittedByLines[index];
                }
                var i = line.indexOf("{")
                if (i >= 0) {
                    splittedByLines[index] = strip_line(line.slice(0, i));
                    splittedByLines.insert(index + 1, "{");
                    splittedByLines.insert(index + 2, strip_line(line.slice(i + 1)));

                }
            }
        }
Line 203: var line = splittedByLines[index] = strip_line(splittedByLines[index])
Line 206: {
                    splittedByLines[index] = strip_line(line.slice(0, i - 1));
                    splittedByLines.insert(index + 1, "}");
                    var l2 = strip_line(line.slice(i + 1));
                    if (l2 != "")
                        splittedByLines.insert(index + 2, strip_line(line.slice(i + 1)));
                    line = splittedByLines[index];
                }
Line 207: splittedByLines[index] = strip_line(line.slice(0, i - 1))
Line 212: line = splittedByLines[index]
Line 215: {
                    splittedByLines[index] = strip_line(line.slice(0, i));
                    splittedByLines.insert(index + 1, "{");
                    splittedByLines.insert(index + 2, strip_line(line.slice(i + 1)));

                }
Line 216: splittedByLines[index] = strip_line(line.slice(0, i))
Line 238: {
    var modified_lines, i;
    "When opening curly bracket is in it's own line (K&R convention), it's joined with precluding line (Java).";
    modified_lines = [];
    for (var i = 0, length = lines.length; i < length; i++) {
        if (i > 0 && lines[i] === "{") {
            modified_lines[modified_lines.length - 1] += " {";
            modified_lines.push("");
        } else if(modified_lines.length<=2||!(modified_lines[modified_lines.length - 2].endsWith(" {")&&lines[i]=="")){
            modified_lines.push(lines[i]);
        }
    }
    return modified_lines;
}
Line 241: modified_lines = []
Line 243: {
            modified_lines[modified_lines.length - 1] += " {";
            modified_lines.push("");
        }
Line 244: modified_lines[modified_lines.length - 1] += " {"
Line 245: modified_lines.push("")
Line 246: modified_lines[modified_lines.length - 2].endsWith(" {")
Line 247: modified_lines.push(lines[i])
Line 256: {
    var indented_lines, current_indent, line;
    "Indents the lines according to their nesting level determined by curly brackets.";
    indented_lines = [];
    current_indent = 0;
    var iterator1 = lines;
    for (var index1 = 0; index1 < iterator1.length; index1++) {
        line = iterator1[index1];
        if (!line.startsWith("#") && line.endsWith("}") && current_indent > 0) {
            current_indent -= 1;
        }
        if (line !== "") {
            indented_lines.push(INDENTATION.repeat(current_indent) + line);
        } else {
            indented_lines.push("");
        }
        if (!line.startsWith("#") && line.endsWith("{")) {
            current_indent += 1;
        }
    }
    return indented_lines;
}
Line 259: indented_lines = []
Line 262: {
        line = iterator1[index1];
        if (!line.startsWith("#") && line.endsWith("}") && current_indent > 0) {
            current_indent -= 1;
        }
        if (line !== "") {
            indented_lines.push(INDENTATION.repeat(current_indent) + line);
        } else {
            indented_lines.push("");
        }
        if (!line.startsWith("#") && line.endsWith("{")) {
            current_indent += 1;
        }
    }
Line 263: line = iterator1[index1]
Line 264: line.endsWith("}")
Line 268: indented_lines.push(INDENTATION.repeat(current_indent) + line)
Line 270: indented_lines.push("")
Line 272: line.endsWith("{")
Line 282: {
    var fs = fs || require('fs'),
        files = fs.readdirSync(dir);
    filelist = filelist || [];
    ext = ext || "";
    files.forEach(function (file) {
        if (fs.statSync(dir + '/' + file).isDirectory()) {
            filelist = walkSync(dir + '/' + file, ext, filelist);
        }
        else if (file.endsWith(ext)) {
            filelist.push(dir + '/' + file);
        }
    });
    return filelist;
}
Line 283: var fs = fs || require('fs')
Line 284: var files = fs.readdirSync(dir)
Line 285: filelist = filelist || []
Line 288: (_tmp_10 = fs.statSync(dir + '/' + file))
Line 289: walkSync(dir + '/' + file, ext, filelist)
Line 291: file.endsWith(ext)
Line 292: filelist.push(dir + '/' + file)
Line 299: var fs = require('fs')
Line 300: var path = require('path')
Line 317: {
            if (input == "desc")
                return "Show this help text.";

            console.log("Usage: " + options.name + " [OPTION]... [FILE]...");
            console.log("Description: Formats nginx conf files into a more readable format by re-indenting the lines.");
            console.log("");
            console.log("Mandatory arguments to long options are mandatory for short options too, Arguments are case insensitive.");
            var argPrint = {};
            for (var key in knownArguments) {
                var desc = knownArguments[key]("desc");
                if (argPrint[desc] == null)
                    argPrint[desc] = '';
                argPrint[desc] = key + ", " + argPrint[desc];
            }
            for (var desc in argPrint) {
                console.log(argPrint[desc], desc);
            }
            console.log("");
            console.log("Usage examples:");
            console.log("(1)>" + options.name + " -s 4 -r sites-enabled/");
    ...
Line 321: console.log("Usage: " + options.name + " [OPTION]... [FILE]...")
Line 326: for (var key in knownArguments) {
                var desc = knownArguments[key]("desc");
                if (argPrint[desc] == null)
                    argPrint[desc] = '';
                argPrint[desc] = key + ", " + argPrint[desc];
            }
Line 327: var desc = knownArguments[key]("desc")
Line 330: argPrint[desc] = key + ", " + argPrint[desc]
Line 332: for (var desc in argPrint) {
                console.log(argPrint[desc], desc);
            }
Line 333: console.log(argPrint[desc], desc)
Line 354: {
                console.log("Error! tabs were already defined, please choose one or the other.")
                knownArguments["--help"]();
                process.exit();
            }
Line 356: knownArguments["--help"]()
Line 357: process.exit()
Line 359: parseInt(number)
Line 368: {
                console.log("Error! spaces were already defined, please choose one or the other.")
                knownArguments["--help"]();
                process.exit();
            }
Line 370: knownArguments["--help"]()
Line 371: process.exit()
Line 373: parseInt(number)
Line 394: file.endsWith("*")
Line 429: _iterator_3.next()
Line 430: {
            var arg = process.argv[key].toLowerCase();
            if (arg.startsWith("-")) {
                var argFunc = knownArguments[arg];
                if (argFunc != null) {
                    //if its true, excpecting another arg next iteration
                    if (argFunc(arg))
                        wasFunc = argFunc;
                }
                else if (wasFunc != null) {
                    wasFunc(arg);
                    wasFunc = null;
                }
            }
            else {
                //its probably a file path
                knownArguments["-i"](arg);
                knownArguments["-o"](arg);
            }
        }
Line 431: var arg = process.argv[key].toLowerCase()
Line 432: {
                var argFunc = knownArguments[arg];
                if (argFunc != null) {
                    //if its true, excpecting another arg next iteration
                    if (argFunc(arg))
                        wasFunc = argFunc;
                }
                else if (wasFunc != null) {
                    wasFunc(arg);
                    wasFunc = null;
                }
            }
Line 433: var argFunc = knownArguments[arg]
Line 444: {
                //its probably a file path
                knownArguments["-i"](arg);
                knownArguments["-o"](arg);
            }
Line 446: knownArguments["-i"](arg)
Line 447: knownArguments["-o"](arg)
Line 452: {
    console.log("Error! no arguments were provided. I don't know what to do!")
    knownArguments["--help"]();
    process.exit()
}
Line 454: knownArguments["--help"]()
Line 455: process.exit()
Line 458: {
        console.log("Error! folder was selected, but no recursive option has been activated.")
        knownArguments["--help"]();
        process.exit();
    }
Line 460: knownArguments["--help"]()
Line 461: process.exit()
Line 465: {
    console.log("Error! input is recursive(multiple files), output is a single file? this makes no sense!")
    knownArguments["--help"]();
    process.exit();
}
Line 467: knownArguments["--help"]()
Line 468: process.exit()
Line 478: walkSync(options.inputPath, options.extension)
Line 481: filesArr.push(options.inputPath)
Line 484: {
    var file = filesArr[index];
    console.log("Working on file: " + file);
    var fileContents = fs.readFileSync(file, "utf8");
    //splti the file into lines, clean spaces
    var cleanLines = clean_lines(fileContents);
    //join opening bracket(if user wishes so) true by default
    if (!options.dontJoinCurlyBracet)
        cleanLines = join_opening_bracket(cleanLines);
    //perform the final indentation
    cleanLines = perform_indentation(cleanLines);
    //combine all the lines back together
    var outputContents = cleanLines.join("\n");
    //save all the contents to the file.
    //if the user didnt choose output path, then the input file is used.
    if (options.inputPath == options.outputPath) {
        fs.writeFileSync(file, outputContents, 'utf8');
    }
    //else we have to write to the chosen output file or folder
    else {

    }


}
Line 485: var file = filesArr[index]
Line 487: var fileContents = fs.readFileSync(file, "utf8")
Line 496: cleanLines.join("\n")
