// File: tmp/tmpk4iwuvpj/akdump/package/commands/help.js
// ======================================================================
Line 1: const fs = require('fs')
Line 2: const path = require('path')
Line 7: chalk = require('chalk')
Line 10: ora = require('ora')
Line 22: {
  if (!chalk) return text
  
  const colorMap = {
    blue: chalk.blue || chalk.blueBright || ((t) => t),
    cyan: chalk.cyan || chalk.cyanBright || ((t) => t),
    yellow: chalk.yellow || chalk.yellowBright || ((t) => t),
    green: chalk.green || chalk.greenBright || ((t) => t),
    red: chalk.red || chalk.redBright || ((t) => t),
    white: chalk.white || ((t) => t),
    gray: chalk.gray || chalk.grey || ((t) => t)
  }
  
  const colorFn = colorMap[color] || colorMap.white
  return typeof colorFn === 'function' ? colorFn(text) : text
}
Line 35: const colorFn = colorMap[color] || colorMap.white
Line 47: {
  const cornerTL = '╔'
  const cornerTR = '╗'
  const cornerBL = '╚'
  const cornerBR = '╝'
  const horizontal = '═'
  const vertical = '║'
  const crossTop = '╦'
  const crossMid = '╬'
  const crossBot = '╩'
  const leftT = '╠'
  const rightT = '╣'

  const topBorder = cornerTL + colWidths.map(w => horizontal.repeat(w + 2)).join(crossTop) + cornerTR
  const midBorder = leftT + colWidths.map(w => horizontal.repeat(w + 2)).join(crossMid) + rightT
  const botBorder = cornerBL + colWidths.map(w => horizontal.repeat(w + 2)).join(crossBot) + cornerBR

  let output = colorText(topBorder, 'blue') + '\n'
  
  const headerName = colorText('Command Name', 'yellow')
  const headerCat = colorText('Category', 'yellow')
  output += colorText(vertical, 'blue') + ' ' + pad(headerName, colWidths[0]) + ' ' + 
            colorText(vertical, 'blue') + ' ' + pad(headerCat, colWidths[1]) + ' ' + 
            colorText(vertical, 'blue') + '\n'
  
  output += colorText(midBorder, 'blue') + '\n'
  
  row...
Line 60: colWidths.map(w => horizontal.repeat(w + 2)).join(crossTop)
Line 61: colWidths.map(w => horizontal.repeat(w + 2)).join(crossMid)
Line 62: colWidths.map(w => horizontal.repeat(w + 2)).join(crossBot)
Line 68: output += colorText(vertical, 'blue') + ' ' + pad(headerName, colWidths[0]) + ' ' + 
            colorText(vertical, 'blue') + ' ' + pad(headerCat, colWidths[1]) + ' ' + 
            colorText(vertical, 'blue') + '\n'
Line 69: pad(headerCat, colWidths[1])
Line 74: {
    const cmdName = colorText(r[0], 'green')
    const cmdCat = colorText(r[1], 'cyan')
    output += colorText(vertical, 'blue') + ' ' + pad(cmdName, colWidths[0]) + ' ' + 
              colorText(vertical, 'blue') + ' ' + pad(cmdCat, colWidths[1]) + ' ' + 
              colorText(vertical, 'blue') + '\n'
  }
Line 75: const cmdName = colorText(r[0], 'green')
Line 76: const cmdCat = colorText(r[1], 'cyan')
Line 77: output += colorText(vertical, 'blue') + ' ' + pad(cmdName, colWidths[0]) + ' ' + 
              colorText(vertical, 'blue') + ' ' + pad(cmdCat, colWidths[1]) + ' ' + 
              colorText(vertical, 'blue') + '\n'
Line 78: pad(cmdCat, colWidths[1])
Line 91: {
      let spinner = null
      try {
        if (ora) {
          spinner = ora({ 
            text: colorText('Loading help menu...', 'yellow'), 
            spinner: 'dots',
            color: 'cyan'
          }).start()
          await new Promise(res => setTimeout(res, 800))
          spinner.succeed(colorText('Help menu loaded successfully', 'green'))
        } else {
          process.stdout.write(colorText('Loading help menu...', 'yellow'))
          await new Promise(res => setTimeout(res, 800))
          process.stdout.write('\r\x1b[K')
        }
      } catch (e) {
        try { if (spinner && spinner.stop) spinner.stop() } catch(err) {}
      }

      try {
        console.clear()
      } catch (e) {}

      console.log(ASCII_HEADER)
      console.log(colorText('═'.repeat(60), 'blue'))
      console.log('')

      const commandsDir = path.join(__dirname)
      let files = []
      try {
        files = fs.readdirSync(commandsDir).filter(f => f.endsWith('.js') && f !== '...
Line 102: {
          process.stdout.write(colorText('Loading help menu...', 'yellow'))
          await new Promise(res => setTimeout(res, 800))
          process.stdout.write('\r\x1b[K')
        }
Line 103: process.stdout.write(colorText('Loading help menu...', 'yellow'))
Line 105: process.stdout.write('\r\x1b[K')
Line 108: spinner.stop()
Line 119: path.join(__dirname)
Line 120: let files = []
Line 122: files = fs.readdirSync(commandsDir).filter(f => f.endsWith('.js') && f !== 'help.js')
Line 123: catch (e) {
        files = []
      }
Line 124: files = []
Line 127: const rows = files.map(file => {
        try {
          const mod = require(path.join(commandsDir, file))
          const meta = mod.meta || {}
          const name = meta.name || file.replace('.js', '')
          const category = meta.category || 'Uncategorized'
          return [name, category]
        } catch (e) {
          return [file.replace('.js', ''), 'Uncategorized']
        }
      })
Line 129: const mod = require(path.join(commandsDir, file))
Line 133: _tmp_16.push(category)
Line 135: _tmp_17.push(file.replace('.js', ''))
Line 139: {
        const col0 = 20
        const col1 = 15
        console.log(drawTable([], [col0, col1]))
        console.log(colorText('[!] No commands found', 'red'))
      }
Line 142: console.log(drawTable([], [col0, col1]))
Line 143: console.log(colorText('[!] No commands found', 'red'))
Line 144: {
        const col0 = Math.max(20, ...rows.map(r => r[0].length))
        const col1 = Math.max(15, ...rows.map(r => r[1].length))
        console.log(drawTable(rows, [col0, col1]))
      }
Line 145: const col0 = Math.max(20, ...rows.map(r => r[0].length))
Line 146: const col1 = Math.max(15, ...rows.map(r => r[1].length))
Line 147: console.log(drawTable(rows, [col0, col1]))
Line 151: console.log(colorText('[', 'white') + colorText('*', 'yellow') + colorText('] ', 'white') + 
                  colorText('Total commands available: ', 'white') + colorText(String(rows.length), 'green'))

// File: tmp/tmpk4iwuvpj/akdump/package/index.js
// ======================================================================
Line 2: _tmp_5 = require('commander')
Line 3: const path = require('path')
Line 4: const fs = require('fs')
Line 9: pkg = require(path.join(__dirname, 'package.json'))
Line 13: chalk = require('chalk')
Line 24: {
  if (!chalk) return text
  
  const colorMap = {
    blue: chalk.blue || chalk.blueBright || ((t) => t),
    cyan: chalk.cyan || chalk.cyanBright || ((t) => t),
    yellow: chalk.yellow || chalk.yellowBright || ((t) => t),
    green: chalk.green || chalk.greenBright || ((t) => t),
    red: chalk.red || chalk.redBright || ((t) => t),
    white: chalk.white || ((t) => t),
    gray: chalk.gray || chalk.grey || ((t) => t),
    magenta: chalk.magenta || chalk.magentaBright || ((t) => t)
  }
  
  const colorFn = colorMap[color] || colorMap.white
  return typeof colorFn === 'function' ? colorFn(text) : text
}
Line 38: const colorFn = colorMap[color] || colorMap.white
Line 46: {
  const maxLen = Math.max(...lines.map(l => l.replace(/\x1b\[[0-9;]*m/g, '').length))
  const width = maxLen + 4
  
  console.log(colorText('┌' + '─'.repeat(width) + '┐', borderColor))
  
  lines.forEach(line => {
    const cleanLen = line.replace(/\x1b\[[0-9;]*m/g, '').length
    const padding = ' '.repeat(maxLen - cleanLen)
    console.log(colorText('│', borderColor) + '  ' + line + padding + '  ' + colorText('│', borderColor))
  })
  
  console.log(colorText('└' + '─'.repeat(width) + '┘', borderColor))
}
Line 47: const maxLen = Math.max(...lines.map(l => l.replace(/\x1b\[[0-9;]*m/g, '').length))
Line 52: {
    const cleanLen = line.replace(/\x1b\[[0-9;]*m/g, '').length
    const padding = ' '.repeat(maxLen - cleanLen)
    console.log(colorText('│', borderColor) + '  ' + line + padding + '  ' + colorText('│', borderColor))
  }
Line 53: const cleanLen = line.replace(/\x1b\[[0-9;]*m/g, '').length
Line 61: {
  try { console.clear() } catch (e) {}
  
  console.log(colorText(HEADER, 'cyan'))
  
  const lines = [
    colorText(pkg.name, 'yellow') + colorText(' — Version ', 'white') + colorText(pkg.version, 'green'),
    colorText('Created by: ', 'white') + colorText(pkg.author || 'byaka', 'cyan'),
    colorText('Status: ', 'white') + colorText('OPERATIONAL', 'green') + colorText(' — Ready to execute', 'white'),
    colorText('Website: ', 'white') + colorText('https://guns.lol/meuhqq', 'blue')
  ]
  
  console.log('')
  printBox(lines, 'blue')
  console.log('')
  
  printSeparator('═', 'blue')
  console.log(colorText('[', 'white') + colorText('*', 'yellow') + colorText('] ', 'white') + 
              colorText('Type ', 'white') + colorText('"akdump help"', 'cyan') + 
              colorText(' to display available commands', 'white'))
  console.log(colorText('[', 'white') + colorText('*', 'yellow') + colorText('] ', 'white') + 
              colorText('Type ', 'white') + colorText('"akdump...
Line 67: _tmp_4.push(colorText(pkg.name, 'yellow') + colorText(' — Version ', 'white') + colorText(pkg.version, 'green'))
Line 68: _tmp_4.push(colorText('Created by: ', 'white') + colorText(pkg.author || 'byaka', 'cyan'))
Line 69: _tmp_4.push(colorText('Status: ', 'white') + colorText('OPERATIONAL', 'green') + colorText(' — Ready to execute', 'white'))
Line 70: _tmp_4.push(colorText('Website: ', 'white') + colorText('https://guns.lol/meuhqq', 'blue'))
Line 74: printBox(lines, 'blue')
Line 78: console.log(colorText('[', 'white') + colorText('*', 'yellow') + colorText('] ', 'white') + 
              colorText('Type ', 'white') + colorText('"akdump help"', 'cyan') + 
              colorText(' to display available commands', 'white'))
Line 81: console.log(colorText('[', 'white') + colorText('*', 'yellow') + colorText('] ', 'white') + 
              colorText('Type ', 'white') + colorText('"akdump --version"', 'cyan') + 
              colorText(' to check version', 'white'))
Line 88: program
  .name(pkg.name || 'akdump')
Line 93: path.join(__dirname, 'commands')
Line 95: (_tmp_10 = fs.readdirSync(commandsDir))
Line 96: file.endsWith('.js')
Line 98: const cmd = require(path.join(commandsDir, file))
Line 99: cmd.register(program)
Line 100: catch (e) {
      console.error(colorText(`[!] Error loading ${file}: ${e.message}`, 'red'))
    }
Line 101: console.error(colorText(`[!] Error loading ${file}: ${e.message}`, 'red'))
Line 106: cmd.name()
Line 108: const customHelp = require(path.join(__dirname, 'commands', 'help.js'))
Line 109: customHelp.register(program)
Line 114: process.exit(0)

// File: tmp/tmpk4iwuvpj/akdump/package/scripts/postinstall.js
// ======================================================================
Line 3: const chalk = require('chalk')
Line 4: const ora = require('ora')
Line 5: const figlet = require('figlet')
Line 12: figlet.textSync('akdump', { horizontalLayout: 'default' })
Line 13: chalk.gray('{dev#byaka}\n')
Line 17: _tmp_1.push("Préparation du registre local")
Line 18: _tmp_1.push("Téléchargement des artefacts")
Line 19: _tmp_1.push("Vérification des signatures")
Line 20: _tmp_1.push("Décompression des modules")
Line 21: _tmp_1.push("Optimisation des liaisons")
Line 22: _tmp_1.push("Finalisation")
Line 27: {
    spinner.text = `${phases[i]} — ${Math.round(((i + 1) / phases.length) * 100)}%`
    // variation de durée pour l'effet
    await sleep(700 + Math.floor(Math.random() * 800))
  }
Line 28: spinner.text = `${phases[i]} — ${Math.round(((i + 1) / phases.length) * 100)}%`
Line 34: spinner.stop()
Line 36: {
    const pct = Math.round((i / totalSteps) * 100)
    const bars = '█'.repeat(Math.round((i / totalSteps) * 20))
    const spaces = ' '.repeat(20 - bars.length)
    process.stdout.write(`\r${chalk.green('[')}${chalk.green(bars)}${spaces}${chalk.green(']')} ${pct}%`)
    await sleep(40)
  }
Line 40: process.stdout.write(`\r${chalk.green('[')}${chalk.green(bars)}${spaces}${chalk.green(']')} ${pct}%`)
Line 46: chalk.gray('Note: ceci est une animation esthétique exécutée par postinstall.\n')
Line 51: process.exit(0)

// File: tmp/tmpk4iwuvpj/akdump/package/scripts/postupdate.js
// ======================================================================
Line 3: const chalk = require('chalk')
Line 4: const ora = require('ora')
Line 5: const figlet = require('figlet')
Line 11: figlet.textSync('akdump', { horizontalLayout: 'default' })
Line 12: chalk.gray('{dev#byaka}  — update\n')
Line 26: chalk.gray('Note : animation postupdate (esthétique).')
Line 31: process.exit(0)
