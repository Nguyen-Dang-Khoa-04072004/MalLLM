defineGetter(req, 'subdomains', function subdomains() {
  var hostname = this.hostname;

  if (!hostname) return [];

  var offset = this.app.get('subdomain offset');
  var subdomains = !isIP(hostname)
    ? hostname.split('.').reverse()
    : [hostname];

  return subdomains.slice(offset);
})
var hostname = this.hostname
__ecma.Array.factory()
var offset = this.app.get('subdomain offset')
var subdomains = !isIP(hostname)
    ? hostname.split('.').reverse()
    : [hostname]
(_tmp_17 = hostname.split('.')).reverse
this.parent.path() + this.mountpath
defineGetter(req, 'path', function path() {
  return parse(this).pathname;
})
defineGetter(req, 'hostname', function hostname(){
  var trust = this.app.get('trust proxy fn');
  var host = this.get('X-Forwarded-Host');

  if (!host || !trust(this.connection.remoteAddress, 0)) {
    host = this.get('Host');
  } else if (host.indexOf(',') !== -1) {
    // Note: X-Forwarded-Host is normally only ever a
    //       single value, but this is to be safe.
    host = host.substring(0, host.indexOf(',')).trimRight()
  }

  if (!host) return;

  // IPv6 literal support
  var offset = host[0] === '['
    ? host.indexOf(']') + 1
    : 0;
  var index = host.indexOf(':', offset);

  return index !== -1
    ? host.substring(0, index)
    : host;
})
var trust = this.app.get('trust proxy fn')
var host = this.get('X-Forwarded-Host')
!host || !trust(this.connection.remoteAddress, 0)
host = this.get('Host')
sendfile(res, file, opts, function (err) {
    if (done) return done(err);
    if (err && err.code === 'EISDIR') return next();

    // next() all but write errors
    if (err && err.code !== 'ECONNABORTED' && err.syscall !== 'write') {
      next(err);
    }
  })
(_tmp_20 = host.substring(0, host.indexOf(','))).trimRight
next(err)
var offset = host[0] === '['
    ? host.indexOf(']') + 1
    : 0
host.indexOf(']') + 1
var index = host.indexOf(':', offset)
index !== -1 ? host.substring(0, index) : host
host.substring(0, index)
defineGetter(req, 'host', deprecate.function(function host(){
  return this.hostname;
}, 'req.host: Use req.hostname instead'))
defineGetter(req, 'fresh', function(){
  var method = this.method;
  var res = this.res
  var status = res.statusCode

  // GET or HEAD for weak freshness validation only
  if ('GET' !== method && 'HEAD' !== method) return false;

  // 2xx or 304 as per rfc2616 14.26
  if ((status >= 200 && status < 300) || 304 === status) {
    return fresh(this.headers, {
      'etag': res.get('ETag'),
      'last-modified': res.get('Last-Modified')
    })
  }

  return false;
})
var res = this.res
_tmp_21.etag = res.get('ETag')
_tmp_21.last-modified = res.get('Last-Modified')
defineGetter(req, 'stale', function stale(){
  return !this.fresh;
})
defineGetter(req, 'xhr', function xhr(){
  var val = this.get('X-Requested-With') || '';
  return val.toLowerCase() === 'xmlhttprequest';
})
err && err.code !== 'ECONNABORTED' && err.syscall !== 'write'
