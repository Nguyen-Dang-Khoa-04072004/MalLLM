function get = function get(req, res, next) {
    const prop = pluralize.singular(req.params.resource);
    req.query[`${prop}${opts.foreignKeySuffix}`] = req.params.id;
    req.url = `/${req.params.nested}`;
    next();
  }
function embed = function embed(resource, e) {
    e && [].concat(e).forEach(externalResource => {
      if (db.get(externalResource).value) {
        const query = {};
        const singularResource = pluralize.singular(name);
        query[`${singularResource}${opts.foreignKeySuffix}`] = resource.id;
        resource[externalResource] = db.get(externalResource).filter(query).value();
      }
    });
  }
(_tmp_14 = router.route('/').get(show).post(create, w).put(update, w)).patch
(_tmp_58 = router.route('/').get(list)).post
