function SemVer = function SemVer(version, options2) {
      if (!options2 || typeof options2 !== "object") {
        options2 = {
          loose: !!options2,
          includePrerelease: false
        };
      }
      if (version instanceof SemVer) {
        if (version.loose === options2.loose) {
          return version;
        } else {
          version = version.version;
        }
      } else if (typeof version !== "string") {
        throw new TypeError("Invalid Version: " + version);
      }
      if (version.length > MAX_LENGTH) {
        throw new TypeError("version is longer than " + MAX_LENGTH + " characters");
      }
      if (!(this instanceof SemVer)) {
        return new SemVer(version, options2);
      }
      debug7("SemVer", version, options2);
      this.options = options2;
      this.loose = !!options2.loose;
      var m = version.trim().match(options2.loose ? safeRe[t.LOOSE] : safeRe[t.FULL]);
      if (!m) {
        throw new TypeError("Invalid Version: " + version);
      }...
version instanceof SemVer
version.loose === options2.loose
return version
version = version.version
typeof version !== "string"
throw new TypeError("Invalid Version: " + version);
version.length > MAX_LENGTH
new SemVer(version, options2)
version instanceof SemVer
typeof version === "number"
version = String(version)
typeof version !== "string"
(next = safeRe[t.COERCERTL].exec(version)) && (!match || match.index + match[0].length !== version.length)
safeRe[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length
