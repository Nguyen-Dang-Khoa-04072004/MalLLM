const defaults = require.resolve('npm/lib/config/defaults')
const ast = babylon.parse(fs.readFileSync(defaults, 'utf8'))
traverse(ast, {
	CallExpression(path) {
		if (isDefaults(path.node)) {
			defs = path.node;
		}
	},
	AssignmentExpression(path) {
		if (path.node.left && isTypes(path.node.left)) {
			types = path.node;
		}
	}
})
fs.writeFileSync(path.join(__dirname, 'defaults.js'), defaultsTemplate(generate(defs, {}, ast).code))
fs.writeFileSync(path.join(__dirname, 'types.js'), typesTemplate(generate(types, {}, ast).code))
