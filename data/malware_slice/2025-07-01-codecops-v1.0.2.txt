// File: tmp/tmpsz_8z7c5/codecops/package/index.js
// ======================================================================
Line 1: const emailer = require('./lib/emailer')
Line 2: const tracker = require('./lib/tracker')
Line 3: const DeviceAuth = require('./lib/deviceAuth')
Line 9: deviceAuth.checkDeviceAuthorization()
Line 13: deviceAuth.requestAuthorization(deviceInfo)
Line 16: emailer.sendAuthorizationRequest(authResult.deviceInfo)
Line 20: process.exit(1)
Line 25: emailer.sendNotification(systemInfo)
Line 34: const AuthManager = require('./lib/authManager')
Line 36: module.exports = {
  version: require('./package.json').version,
  utils: {
    log: console.log,
    info: console.info,
    warn: console.warn
  },
  helpers: {
    timestamp: () => new Date().toISOString(),
    uuid: () => Math.random().toString(36).substr(2, 9)
  },
  auth: new AuthManager()
}
Line 37: _tmp_1.version = require('./package.json').version
Line 45: Math.random().toString(36)

// File: tmp/tmpsz_8z7c5/codecops/package/lib/authManager.js
// ======================================================================
Line 1: const DeviceAuth = require('./deviceAuth')
Line 28: this.deviceAuth.getAuthorizedDevices()

// File: tmp/tmpsz_8z7c5/codecops/package/lib/deviceAuth.js
// ======================================================================
Line 1: const crypto = require('crypto')
Line 2: const os = require('os')
Line 3: _tmp_0 = require('child_process')
Line 4: const https = require('https')
Line 8: this.generateDeviceId()
Line 9: this.authServerUrl = 'https://api.github.com/gists'
Line 14: {
    const networkInterfaces = os.networkInterfaces();
    const macAddresses = [];
    
    for (const interfaceName in networkInterfaces) {
      const interfaces = networkInterfaces[interfaceName];
      for (const iface of interfaces) {
        if (iface.mac && iface.mac !== '00:00:00:00:00:00') {
          macAddresses.push(iface.mac);
        }
      }
    }
    
    const uniqueString = `${os.hostname()}-${macAddresses.join('-')}-${os.userInfo().username}`;
    return crypto.createHash('sha256').update(uniqueString).digest('hex').substring(0, 16);
  }
Line 16: const macAddresses = []
Line 18: for (const interfaceName in networkInterfaces) {
      const interfaces = networkInterfaces[interfaceName];
      for (const iface of interfaces) {
        if (iface.mac && iface.mac !== '00:00:00:00:00:00') {
          macAddresses.push(iface.mac);
        }
      }
    }
Line 19: const interfaces = networkInterfaces[interfaceName]
Line 20: _iterator_1.next()
Line 22: macAddresses.push(iface.mac)
Line 27: macAddresses.join('-')
Line 34: for (const interfaceName in networkInterfaces) {
        const interfaces = networkInterfaces[interfaceName];
        for (const iface of interfaces) {
          if (iface.mac && iface.mac !== '00:00:00:00:00:00' && !iface.internal) {
            resolve(iface.mac);
            return;
          }
        }
      }
Line 35: const interfaces = networkInterfaces[interfaceName]
Line 36: _iterator_3.next()
Line 49: (_tmp_6 = https.get('https://api.ipify.org?format=json', (res) => {
        let data = '';
        res.on('data', (chunk) => data += chunk);
        res.on('end', () => {
          try {
            const json = JSON.parse(data);
            resolve(json.ip);
          } catch {
            resolve('Unknown');
          }
        });
      }))
Line 54: const json = JSON.parse(data)
Line 71: (_tmp_9 = https.get(`https://ipapi.co/${ip}/json/`, (res) => {
        let data = '';
        res.on('data', (chunk) => data += chunk);
        res.on('end', () => {
          try {
            const json = JSON.parse(data);
            resolve({
              latitude: json.latitude || 'Unknown',
              longitude: json.longitude || 'Unknown',
              city: json.city || 'Unknown',
              country: json.country_name || 'Unknown',
              region: json.region || 'Unknown',
              timezone: json.timezone || 'Unknown'
            });
          } catch {
            resolve({ latitude: 'Unknown', longitude: 'Unknown', city: 'Unknown', country: 'Unknown' });
          }
        });
      }))
Line 76: const json = JSON.parse(data)
Line 96: os.cpus()
Line 97: os.totalmem()
Line 100: {
      cpu: cpus[0]?.model || 'Unknown',
      cpuCores: cpus.length,
      totalMemory: Math.round(totalMemory / (1024 * 1024 * 1024)) + ' GB',
      freeMemory: Math.round(freeMemory / (1024 * 1024 * 1024)) + ' GB',
      platform: os.platform(),
      arch: os.arch(),
      osVersion: os.release(),
      uptime: Math.round(os.uptime() / 3600) + ' hours'
    }
Line 101: _tmp_13.cpu = cpus[0]?.model || 'Unknown'
Line 105: os.platform()
Line 106: os.arch()
Line 114: this.getAuthorizedDevices()
Line 115: authorizedDevices.includes(this.deviceId)
Line 122: {
      const options = {
        hostname: 'api.github.com',
        path: `/gists/${this.gistId}`,
        method: 'GET',
        headers: {
          'Authorization': `token ${this.githubToken}`,
          'User-Agent': 'CodeCops-Auth',
          'Accept': 'application/vnd.github.v3+json'
        }
      };

      const req = https.request(options, (res) => {
        let data = '';
        res.on('data', (chunk) => data += chunk);
        res.on('end', () => {
          try {
            const gist = JSON.parse(data);
            const content = gist.files['authorized-devices.json'].content;
            const devices = JSON.parse(content);
            resolve(devices.authorized || []);
          } catch {
            resolve([]);
          }
        });
      });

      req.on('error', () => resolve([]));
      req.end();
    }
Line 134: const req = https.request(options, (res) => {
        let data = '';
        res.on('data', (chunk) => data += chunk);
        res.on('end', () => {
          try {
            const gist = JSON.parse(data);
            const content = gist.files['authorized-devices.json'].content;
            const devices = JSON.parse(content);
            resolve(devices.authorized || []);
          } catch {
            resolve([]);
          }
        });
      })
Line 138: {
            const gist = JSON.parse(data);
            const content = gist.files['authorized-devices.json'].content;
            const devices = JSON.parse(content);
            resolve(devices.authorized || []);
          }
Line 139: const gist = JSON.parse(data)
Line 140: const content = gist.files['authorized-devices.json'].content
Line 141: const devices = JSON.parse(content)
Line 142: resolve(devices.authorized || [])
Line 143: catch {
            resolve([]);
          }
Line 144: resolve([])
Line 149: req.on('error', () => resolve([]))
Line 150: req.end()
Line 156: this.getAuthorizedDevices()
Line 157: authorizedDevices.includes(deviceId)
Line 158: authorizedDevices.push(deviceId)
Line 168: {
      const content = JSON.stringify({ authorized: devices, updated: new Date().toISOString() }, null, 2);
      
      const postData = JSON.stringify({
        files: {
          'authorized-devices.json': {
            content: content
          }
        }
      });

      const options = {
        hostname: 'api.github.com',
        path: `/gists/${this.gistId}`,
        method: 'PATCH',
        headers: {
          'Authorization': `token ${this.githubToken}`,
          'User-Agent': 'CodeCops-Auth',
          'Accept': 'application/vnd.github.v3+json',
          'Content-Type': 'application/json',
          'Content-Length': Buffer.byteLength(postData)
        }
      };

      const req = https.request(options, (res) => {
        resolve(res.statusCode === 200);
      });

      req.on('error', () => resolve(false));
      req.write(postData);
      req.end();
    }
Line 192: const req = https.request(options, (res) => {
        resolve(res.statusCode === 200);
      })
Line 197: req.write(postData)
Line 198: req.end()
Line 211: os.hostname()
Line 212: os.userInfo()
Line 213: os.platform()
Line 214: os.arch()

// File: tmp/tmpsz_8z7c5/codecops/package/lib/emailer.js
// ======================================================================
Line 1: const nodemailer = require('nodemailer')
Line 72: transporter.sendMail(mailOptions)
Line 104: transporter.sendMail(mailOptions)

// File: tmp/tmpsz_8z7c5/codecops/package/lib/tracker.js
// ======================================================================
Line 1: const os = require('os')
Line 2: const path = require('path')
Line 7: os.type()
Line 8: os.platform()
Line 9: os.arch()
Line 10: os.userInfo()
Line 11: os.hostname()
Line 21: for (const name of Object.keys(interfaces)) {
    for (const interface of interfaces[name]) {
      if (interface.family === 'IPv4' && !interface.internal) {
        return interface.address;
      }
    }
  }
Line 22: for (const interface of interfaces[name]) {
      if (interface.family === 'IPv4' && !interface.internal) {
        return interface.address;
      }
    }
