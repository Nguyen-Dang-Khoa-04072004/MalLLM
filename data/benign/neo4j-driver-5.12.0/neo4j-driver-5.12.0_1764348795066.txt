__awaiter$3(this, void 0, void 0, function () {
            var shouldReAuth, authToken;
            return __generator$3(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!(auth != null)) return [3 /*break*/, 3];
                        shouldReAuth = connection.supportsReAuth === true && ((!lang_1$2.object.equals(connection.authToken, auth) && skipReAuth !== true) ||
                            forceReAuth === true);
                        if (!(connection.authToken == null || shouldReAuth)) return [3 /*break*/, 2];
                        return [4 /*yield*/, connection.connect(this._userAgent, this._boltAgent, auth, waitReAuth || false)];
                    case 1: return [2 /*return*/, _b.sent()];
                    case 2: return [2 /*return*/, connection];
                    case 3: return [4 /*yield*/, this._authTokenManager.getToken()];
                    case 4:
                        authToken = _b.sent...
__generator$3(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!(auth != null)) return [3 /*break*/, 3];
                        shouldReAuth = connection.supportsReAuth === true && ((!lang_1$2.object.equals(connection.authToken, auth) && skipReAuth !== true) ||
                            forceReAuth === true);
                        if (!(connection.authToken == null || shouldReAuth)) return [3 /*break*/, 2];
                        return [4 /*yield*/, connection.connect(this._userAgent, this._boltAgent, auth, waitReAuth || false)];
                    case 1: return [2 /*return*/, _b.sent()];
                    case 2: return [2 /*return*/, connection];
                    case 3: return [4 /*yield*/, this._authTokenManager.getToken()];
                    case 4:
                        authToken = _b.sent();
                        if (!!lang_1$2.object.equals(authToken, connection.authToken)) return [3 /*break...
__generator$3(this, function (_b) {
	                switch (_b.label) {
	                    case 0:
	                        if (!(auth != null)) return [3 /*break*/, 3];
	                        shouldReAuth = connection.supportsReAuth === true && ((!lang_1$2.object.equals(connection.authToken, auth) && skipReAuth !== true) ||
	                            forceReAuth === true);
	                        if (!(connection.authToken == null || shouldReAuth)) return [3 /*break*/, 2];
	                        return [4 /*yield*/, connection.connect(this._userAgent, this._boltAgent, auth, waitReAuth || false)];
	                    case 1: return [2 /*return*/, _b.sent()];
	                    case 2: return [2 /*return*/, connection];
	                    case 3: return [4 /*yield*/, this._authTokenManager.getToken()];
	                    case 4:
	                        authToken = _b.sent();
	                        if (!!lang_1$2.object.equals(authToken, connection.authToken)) retu...
_tmp_4089.push(connection.connect(this._userAgent, this._boltAgent, auth, waitReAuth || false))
!(connection.authToken == null || shouldReAuth)
_tmp_4089.push(connection.connect(this._userAgent, this._boltAgent, auth, waitReAuth || false))
_tmp_4096.push(connection.connect(this._userAgent, this._boltAgent, authToken, false))
authToken = _b.sent()
!!lang_1$2.object.equals(authToken, connection.authToken)
_tmp_4096.push(connection.connect(this._userAgent, this._boltAgent, authToken, false))
AuthenticationProvider.prototype.handleError = function (_a) {
        var connection = _a.connection, code = _a.code;
        if (connection &&
            code.startsWith('Neo.ClientError.Security.')) {
            return this._authTokenManager.handleSecurityException(connection.authToken, code);
        }
        return false;
    }
