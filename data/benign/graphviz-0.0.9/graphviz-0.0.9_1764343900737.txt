var type = type_or_options
type = type_or_options.type
parameters.push( '-T' + type )
parameters.push( '-o' + name_or_callback )
graphviz = spawn(cmd, parameters)
graphviz.on('exit', function(code) {
    if(code !== 0) {
      if(errback) { errback(code, out, err) }
    } else {
      if( typeof(name_or_callback) == 'function' ) name_or_callback(rendered);
    }
  })
graphviz.stdin.write(this.to_dot())
