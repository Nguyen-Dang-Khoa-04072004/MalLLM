// File: tmp/tmp71comu08/very-nay/package/index.js
// ======================================================================
Line 1: const axios = require('axios')
Line 2: const cheerio = require('cheerio')
Line 3: _tmp_184 = require('crypto')
Line 4: const fs = require('fs')
Line 5: const FormData = require('form-data')
Line 6: const path = require('path')
Line 7: _tmp_185 = require('child_process')
Line 8: const YTDL = require('@distube/ytdl-core')
Line 9: const ffmpeg = require('fluent-ffmpeg')
Line 12: Array.from({ length }, () => chars.charAt(Math.floor(Math.random() * chars.length))).join('')
Line 16: const bytes = fs.statSync(path).size
Line 27: fs.createReadStream(path)
Line 30: _tmp_1.url = "https://catbox.moe/user/api.php"
Line 37: const api = await axios.request(config)
Line 42: {
        const form = new FormData()
        form.append('files[]', fs.createReadStream(path))

        const { data } = await axios.post('https://uguu.se/upload', form, {
            headers: {
                ...form.getHeaders()
            }
        })

        return data.files[0].url
    }
Line 44: form.append('files[]', fs.createReadStream(path))
Line 46: _tmp_6 = await axios.post('https://uguu.se/upload', form, {
            headers: {
                ...form.getHeaders()
            }
        })
Line 59: {
        let form = new FormData()
        form.append('files[]', fs.createReadStream(path))

        let { data } = await axios.post('https://pomf-api.theoks.net/upload.php', form, {
            headers: form.getHeaders()
        })

        return data.files[0].url
    }
Line 61: form.append('files[]', fs.createReadStream(path))
Line 63: _tmp_10 = await axios.post('https://pomf-api.theoks.net/upload.php', form, {
            headers: form.getHeaders()
        })
Line 76: fs.createReadStream(path)
Line 80: _tmp_15 = await axios.post('https://litterbox.catbox.moe/resources/internals/api.php', form, {
            headers: {
                ...form.getHeaders()
            }
        })
Line 94: const file_buffer = fs.readFileSync(path)
Line 100: fs.createReadStream(path)
Line 102: const response = await axios.post('https://files.cloudmini.net/upload', form, {
            headers: { ...form.getHeaders() }
        })
Line 107: <operator>.formatString("https://files.cloudmini.net/download/", filename, "")
Line 116: fs.createReadStream(path)
Line 118: _tmp_27 = await axios.post('https://tmpfiles.org/api/v1/upload', form, {
            headers: {
                ...form.getHeaders()
            }
        })
Line 130: _tmp_191.push("1080")
Line 131: _tmp_192.push("128")
Line 136: {
    let cookie
    const match = cookie?.match(/Expires=([^;]+)/)
    const date = match ? new Date(match[1]) : null
    const now = new Date()

    if (!cookie || (date && now > date)) {
        const yt_page = await axios.get("https://www.youtube.com", { timeout: 5000 })
        cookie = yt_page.headers['set-cookie']?.join('; ') || ''
    }

    const config = { requestOptions: { headers: { Cookie: cookie } } }
    const info = await YTDL.getInfo(url, config)
    const video = info.videoDetails
    const file_id = randomKarakter(8)

    if (type === 'mp3') {
        const file_path = `./${file_id}.mp3`

        const stream = YTDL(url, {
            filter: 'audioonly',
            highWaterMark: 32 * 1024 * 1024,
            requestOptions: { headers: { Cookie: cookie } }
        })

        const ffmpeg = spawn('ffmpeg', [
            '-i', 'pipe:0',
            '-b:a', `${qual}k`,
            '-preset', 'ultrafast',
            '-movflags', '+faststart',
            file_path...
Line 138: const match = cookie?.match(/Expires=([^;]+)/)
Line 139: const date = match ? new Date(match[1]) : null
Line 142: {
        const yt_page = await axios.get("https://www.youtube.com", { timeout: 5000 })
        cookie = yt_page.headers['set-cookie']?.join('; ') || ''
    }
Line 143: const yt_page = await axios.get("https://www.youtube.com", { timeout: 5000 })
Line 144: cookie = yt_page.headers['set-cookie']?.join('; ') || ''
Line 152: {
        const file_path = `./${file_id}.mp3`

        const stream = YTDL(url, {
            filter: 'audioonly',
            highWaterMark: 32 * 1024 * 1024,
            requestOptions: { headers: { Cookie: cookie } }
        })

        const ffmpeg = spawn('ffmpeg', [
            '-i', 'pipe:0',
            '-b:a', `${qual}k`,
            '-preset', 'ultrafast',
            '-movflags', '+faststart',
            file_path
        ])

        stream.pipe(ffmpeg.stdin)

        await new Promise((resolve, reject) => {
            ffmpeg.on('close', resolve)
            ffmpeg.on('error', reject)
        })

        const file_size = FileSize(file_path)
        return {
            audio: {
                title: video.title,
                duration: video.lengthSeconds,
                views: video.viewCount,
                likes: video.likes,
                quality: qual + 'kbps',
                description: video.description,
                thumbnail: video.thumbnails.pop(...
Line 155: YTDL(url, {
            filter: 'audioonly',
            highWaterMark: 32 * 1024 * 1024,
            requestOptions: { headers: { Cookie: cookie } }
        })
Line 161: const ffmpeg = spawn('ffmpeg', [
            '-i', 'pipe:0',
            '-b:a', `${qual}k`,
            '-preset', 'ultrafast',
            '-movflags', '+faststart',
            file_path
        ])
Line 162: _tmp_38.push("pipe:0")
Line 163: _tmp_38.push(<operator>.formatString("", qual, "k"))
Line 164: _tmp_38.push("ultrafast")
Line 165: _tmp_38.push("+faststart")
Line 166: _tmp_38.push(file_path)
Line 169: stream.pipe(ffmpeg.stdin)
Line 176: FileSize(file_path)
Line 199: {
        itag: f.itag,
        quality: f.qualityLabel || 'Audio',
        hasAudio: !!f.audioBitrate,
        url: f.url,
        type: f.mimeType.split(';')[0]
    }
Line 204: _tmp_45.type = f.mimeType.split(';')[0]
Line 207: let format_video = formats.find(f => f.quality.includes(`${qual}p`) && !f.hasAudio) || formats.find(f => f.quality.includes('p') && !f.hasAudio)
Line 208: let format_audio = formats.find(f => f.hasAudio)
Line 214: YTDL(url, {
        quality: format_video.itag,
        highWaterMark: 64 * 1024 * 1024,
        requestOptions: { headers: { Cookie: cookie } }
    })
Line 220: YTDL(url, {
        quality: format_audio.itag,
        highWaterMark: 32 * 1024 * 1024,
        requestOptions: { headers: { Cookie: cookie } }
    })
Line 226: const ffmpeg = spawn('ffmpeg', [
        '-i', 'pipe:3',
        '-i', 'pipe:4',
        '-c:v', 'copy',
        '-c:a', 'aac',
        '-preset', 'ultrafast',
        '-movflags', '+faststart',
        video_path
    ], { stdio: ['ignore', 'ignore', 'ignore', 'pipe', 'pipe'] })
Line 227: _tmp_56.push("pipe:3")
Line 228: _tmp_56.push("pipe:4")
Line 229: _tmp_56.push("-c:v")
Line 230: _tmp_56.push("-c:a")
Line 231: _tmp_56.push("ultrafast")
Line 232: _tmp_56.push("+faststart")
Line 233: _tmp_56.push(video_path)
Line 234: _tmp_58.push("ignore")
Line 236: video_stream.pipe(ffmpeg.stdio[3])
Line 237: audio_stream.pipe(ffmpeg.stdio[4])
Line 244: FileSize(video_path)
Line 267: {
  const api = {
    base: 'https://media.savetube.me/api',
    cdn: '/random-cdn',
    info: '/v2/info',
    download: '/download'
  }

  const headers = {
    accept: '*/*',
    'content-type': 'application/json',
    origin: 'https://yt.savetube.me',
    referer: 'https://yt.savetube.me/',
    'user-agent': 'Postify/1.0.0'
  }

  const vid_quality = ['144', '240', '360', '480', '720', '1080']
  const aud_quality = ['32', '64', '128', '192', '256', '320']

  const hex_to_buf = (hex) => Buffer.from(hex, 'hex')

  const decrypt = (enc) => {
    try {
      const secret_key = 'C5D58EF67A7584E4A29F6C35BBC4EB12'
      const data = Buffer.from(enc, 'base64')
      const iv = data.slice(0, 16)
      const content = data.slice(16)
      const key = hex_to_buf(secret_key)

      const decipher = createDecipheriv('aes-128-cbc', key, iv)
      let decrypted = Buffer.concat([decipher.update(content), decipher.final()])

      return JSON.parse(decrypted.toString())
    } catch (error) {
    ...
Line 269: _tmp_64.base = "https://media.savetube.me/api"
Line 278: _tmp_65.origin = "https://yt.savetube.me"
Line 279: _tmp_65.referer = "https://yt.savetube.me/"
Line 283: const vid_quality = ['144', '240', '360', '480', '720', '1080']
Line 284: const aud_quality = ['32', '64', '128', '192', '256', '320']
Line 286: Buffer.from(hex, 'hex')
Line 289: {
      const secret_key = 'C5D58EF67A7584E4A29F6C35BBC4EB12'
      const data = Buffer.from(enc, 'base64')
      const iv = data.slice(0, 16)
      const content = data.slice(16)
      const key = hex_to_buf(secret_key)

      const decipher = createDecipheriv('aes-128-cbc', key, iv)
      let decrypted = Buffer.concat([decipher.update(content), decipher.final()])

      return JSON.parse(decrypted.toString())
    }
Line 291: Buffer.from(enc, 'base64')
Line 296: createDecipheriv('aes-128-cbc', key, iv)
Line 297: let decrypted = Buffer.concat([decipher.update(content), decipher.final()])
Line 299: decrypted.toString()
Line 305: {
    const regex = [
      /youtube\.com\/watch\?v=([a-zA-Z0-9_-]{11})/,
      /youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/,
      /youtube\.com\/v\/([a-zA-Z0-9_-]{11})/,
      /youtube\.com\/shorts\/([a-zA-Z0-9_-]{11})/,
      /youtu\.be\/([a-zA-Z0-9_-]{11})/
    ]
    for (let r of regex) {
      let match = url.match(r)
      if (match) return match[1]
    }
    return null
  }
Line 306: const regex = [
      /youtube\.com\/watch\?v=([a-zA-Z0-9_-]{11})/,
      /youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/,
      /youtube\.com\/v\/([a-zA-Z0-9_-]{11})/,
      /youtube\.com\/shorts\/([a-zA-Z0-9_-]{11})/,
      /youtu\.be\/([a-zA-Z0-9_-]{11})/
    ]
Line 307: _tmp_70.push(/youtube\.com\/watch\?v=([a-zA-Z0-9_-]{11})/)
Line 308: _tmp_70.push(/youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/)
Line 309: _tmp_70.push(/youtube\.com\/v\/([a-zA-Z0-9_-]{11})/)
Line 310: _tmp_70.push(/youtube\.com\/shorts\/([a-zA-Z0-9_-]{11})/)
Line 311: _tmp_70.push(/youtu\.be\/([a-zA-Z0-9_-]{11})/)
Line 313: _iterator_0.next()
Line 329: response.data.pipe(writer)
Line 339: {
      const process = spawn('ffmpeg', [
        '-i', 'pipe:0',
        '-b:a', `${bitrate}k`,
        '-preset', 'ultrafast',
        '-movflags', '+faststart',
        output
      ])
    
      const readStream = fs.createReadStream(input)
      readStream.pipe(process.stdin)

      process.on('close', (code) => {
        if (code === 0) resolve(output)
        else reject(new Error('Error :('))
      })
    }
Line 340: const process = spawn('ffmpeg', [
        '-i', 'pipe:0',
        '-b:a', `${bitrate}k`,
        '-preset', 'ultrafast',
        '-movflags', '+faststart',
        output
      ])
Line 341: _tmp_75.push("pipe:0")
Line 342: _tmp_75.push(<operator>.formatString("", bitrate, "k"))
Line 343: _tmp_75.push("ultrafast")
Line 344: _tmp_75.push("+faststart")
Line 345: _tmp_75.push(output)
Line 348: const readStream = fs.createReadStream(input)
Line 349: readStream.pipe(process.stdin)
Line 361: _tmp_78 = await axios.get(api.base+api.cdn, { headers })
Line 364: _tmp_81 = await axios.post(`https://${cdn}${api.info}`, {
      url: `https://www.youtube.com/watch?v=${id}`
    }, { headers })
Line 365: _tmp_79.url = <operator>.formatString("https://www.youtube.com/watch?v=", id, "")
Line 371: vid_quality.includes(quality.toString())
Line 373: aud_quality.includes(quality.toString())
Line 376: _tmp_84 = await axios.post(`https://${cdn}${api.download}`, {
      id,
      downloadType: type === 'mp3' ? 'audio' : 'video',
      quality,
      key: decrypted.key
    }, { headers })
Line 397: _tmp_85.thumbnail = decrypted.thumbnail || `https://i.ytimg.com/vi/${id}/maxresdefault.jpg`
Line 399: FileSize(output_file)
Line 409: _tmp_86.thumbnail = decrypted.thumbnail || `https://i.ytimg.com/vi/${id}/maxresdefault.jpg`
Line 411: FileSize(file_path)
Line 420: _tmp_88 = await axios.get("https://fbdown.me/")
Line 421: cheerio.load(html)
Line 432: _tmp_93 = await axios.post(
      "https://fbdown.me/wp-json/aio-dl/video-data",
      formData,
      { headers: { ...formData.getHeaders() } }
    )
Line 453: _tmp_101 = await axios.post(
    'https://yt1s.io/api/ajaxSearch',
    new URLSearchParams({
      p: 'home',
      q: url,
      w: '',
      lang: 'en'
    }),
    {
      headers: {
        'User-Agent': 'Postify/1.0.0',
        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
        'Accept': 'application/json, text/plain, */*',
        'Origin': 'https://yt1s.io',
        'Referer': 'https://yt1s.io/'
      }
    }
  )
Line 466: _tmp_100.Origin = "https://yt1s.io"
Line 467: _tmp_100.Referer = "https://yt1s.io/"
Line 472: cheerio.load(data.data)
Line 476: $(el).attr('title')
Line 477: $(el).attr('href')
Line 484: {
      let data = []

      function formatNumber(integer) {
        let numb = parseInt(integer)
        return Number(numb).toLocaleString().replace(/,/g, '.')
      }

      function formatDate(n, locale = 'en') {
        let d = new Date(n)
        return d.toLocaleDateString(locale, {
          weekday: 'long',
          day: 'numeric',
          month: 'long',
          year: 'numeric',
          hour: 'numeric',
          minute: 'numeric',
          second: 'numeric'
        })
      }

      let domain = 'https://www.tikwm.com/api/'
      let res = await (await axios.post(domain, {}, {
        headers: {
          'Accept': 'application/json, text/javascript, */*; q=0.01',
          'Accept-Language': 'id-ID,id;q=0.9,en-US;q=0.8,en;q=0.7',
          'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
          'Origin': 'https://www.tikwm.com',
          'Referer': 'https://www.tikwm.com/',
          'Sec-Ch-Ua': '"Not)A;Brand" ;v="24" , "Chromium" ;v="116"...
Line 485: let data = []
Line 488: parseInt(integer)
Line 505: let domain = 'https://www.tikwm.com/api/'
Line 506: let res = await (await axios.post(domain, {}, {
        headers: {
          'Accept': 'application/json, text/javascript, */*; q=0.01',
          'Accept-Language': 'id-ID,id;q=0.9,en-US;q=0.8,en;q=0.7',
          'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
          'Origin': 'https://www.tikwm.com',
          'Referer': 'https://www.tikwm.com/',
          'Sec-Ch-Ua': '"Not)A;Brand" ;v="24" , "Chromium" ;v="116"',
          'Sec-Ch-Ua-Mobile': '?1',
          'Sec-Ch-Ua-Platform': 'Android',
          'Sec-Fetch-Dest': 'empty',
          'Sec-Fetch-Mode': 'cors',
          'Sec-Fetch-Site': 'same-origin',
          'User-Agent': 'Mozilla/5.0 (Linux; Android 10; K) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Mobile Safari/537.36',
          'X-Requested-With': 'XMLHttpRequest'
        },
        params: {
          url: url,
          count: 12,
          cursor: 0,
          web: 1,
          hd: 1
        }
      })).data.data
Line 511: _tmp_114.Origin = "https://www.tikwm.com"
Line 512: _tmp_114.Referer = "https://www.tikwm.com/"
Line 532: data.push({
            type: 'photo',
            url: v
          })
Line 538: data.push({
          type: 'watermark',
          url: 'https://www.tikwm.com' + res.wmplay,
        }, {
          type: 'nowatermark',
          url: 'https://www.tikwm.com' + res.play,
        }, {
          type: 'nowatermark_hd',
          url: 'https://www.tikwm.com' + res.hdplay
        })
Line 540: _tmp_118.url = 'https://www.tikwm.com' + res.wmplay
Line 543: _tmp_119.url = 'https://www.tikwm.com' + res.play
Line 546: _tmp_120.url = 'https://www.tikwm.com' + res.hdplay
Line 553: _tmp_121.cover = 'https://www.tikwm.com' + res.cover
Line 563: _tmp_122.url = 'https://www.tikwm.com' + res.music || res.music_info.play
Line 566: formatNumber(res.play_count)
Line 567: formatNumber(res.digg_count)
Line 568: formatNumber(res.comment_count)
Line 569: formatNumber(res.share_count)
Line 570: formatNumber(res.download_count)
Line 576: _tmp_124.avatar = 'https://www.tikwm.com' + res.author.avatar
Line 587: {
    const res = await axios({
      method: 'POST',
      url: 'https://tikvideo.app/api/ajaxSearch',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36',
      },
      data: new URLSearchParams({ q: url, lang: 'id' }).toString(),
    })

    const result = []
    if (res.data.status === 'ok') {
      const $ = cheerio.load(res.data.data)
      $('img').each((index, element) => {
        const imgSrc = $(element).attr('src')
        if (imgSrc && !imgSrc.includes('.webp')) {
          result.push(imgSrc)
        }
      })
    }

    return result.length > 0 ? result : null
  }
Line 588: const res = await axios({
      method: 'POST',
      url: 'https://tikvideo.app/api/ajaxSearch',
      headers: {
        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/123.0.0.0 Safari/537.36',
      },
      data: new URLSearchParams({ q: url, lang: 'id' }).toString(),
    })
Line 590: _tmp_125.url = "https://tikvideo.app/api/ajaxSearch"
Line 595: _tmp_125.data = new URLSearchParams({ q: url, lang: 'id' }).toString()
Line 598: const result = []
Line 600: cheerio.load(res.data.data)
Line 601: $('img').each((index, element) => {
        const imgSrc = $(element).attr('src')
        if (imgSrc && !imgSrc.includes('.webp')) {
          result.push(imgSrc)
        }
      })
Line 602: $(element).attr('src')
Line 603: imgSrc.includes('.webp')
Line 604: result.push(imgSrc)
Line 617: const response = await axios.get(`https://api.siputzx.my.id/api/d/spotify?url=${encodeURIComponent(url)}`)
Line 630: const BASE_URI = "https://snapsave.cc/wp-json/aio-dl/video-data"
Line 637: _tmp_133.Referer = "https://snapsave.cc/capcut-video-downloader/"
Line 638: _tmp_133.Origin = "https://snapsave.cc"
Line 646: const response = await axios.get(`https://snapsave.cc/capcut-video-downloader/#url=${encodeURIComponent(url)}`, { headers })
Line 647: cheerio.load(response.data)
Line 656: _tmp_138 = await axios.post(BASE_URI, payload, { headers })
Line 677: _tmp_145 = await axios.get('https://threads.snapsave.app/api/action', {
      params: { url: url },
      headers: {
        'accept': 'application/json, text/plain, */*',
        'referer': 'https://threads.snapsave.app/',
        'user-agent': 'Postify/1.0.0',
      },
      timeout: 10000,
    })
Line 681: _tmp_144.referer = "https://threads.snapsave.app/"
Line 699: type(data.postinfo.__type)
Line 702: type(item.__type)
Line 722: _tmp_153.base = "https://teraboxdl.site/api/"
Line 737: _tmp_156 = await axios.get(`${terabox.api.base}${terabox.api.token}`, { headers: terabox.headers })
Line 747: {
    const match = url.match(/https?:\/\/(?:www\.)?(?:\w+)\.(com|app)\/s\/([^\/]+)/i)
    return match ? `https://1024terabox.com/s/${match[2]}` : null
  }
Line 748: const match = url.match(/https?:\/\/(?:www\.)?(?:\w+)\.(com|app)\/s\/([^\/]+)/i)
Line 749: match ? <operator>.formatString("https://1024terabox.com/s/", match[2], "") : null
Line 753: getToken()
Line 754: const url = `${terabox.api.base}${endpoint}?` + new URLSearchParams(params)
Line 756: {
      const { data } = await axios.get(url, { headers: { ...terabox.headers, 'x-access-token': token } })
      const fileData = data.data.all_files[0]

      return {
        file_name: fileData.file_name,
        file_id: fileData.fs_id,
        size: fileData.size,
        thumbnail: fileData.thumb,
        download: fileData.download_url,
        bytes: fileData.sizebytes
      }

    }
Line 757: _tmp_161 = await axios.get(url, { headers: { ...terabox.headers, 'x-access-token': token } })
Line 758: const fileData = data.data.all_files[0]
Line 774: url.trim()
Line 778: {
  let id = (url.match(/\/?id=(.+)/i) || url.match(/\/d\/(.*?)\//))[1]

  let { data } = await axios.post(`https://drive.google.com/uc?id=${id}&authuser=0&export=download`, null, {
    headers: {
      'accept-encoding': 'gzip, deflate, br',
      'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',
      'origin': 'https://drive.google.com',
      'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36',
      'x-client-data': 'CKG1yQEIkbbJAQiitskBCMS2yQEIqZ3KAQioo8oBGLeYygE=',
      'x-drive-first-party': 'DriveWebUi',
      'x-json-requested': 'true'
    }
  })

  let { fileName, sizeBytes, downloadUrl } = JSON.parse(data.slice(4))

  return {
    download: downloadUrl,
    fileName,
    fileSize: `${(sizeBytes / (1024 * 1024)).toFixed(2)} MB`,
    mimetype: (await axios.head(downloadUrl)).headers['content-type'],
    extension: fileName.split('.').pop(),
    modified: (await axios.head(down...
Line 779: let id = (url.match(/\/?id=(.+)/i) || url.match(/\/d\/(.*?)\//))[1]
Line 781: _tmp_166 = await axios.post(`https://drive.google.com/uc?id=${id}&authuser=0&export=download`, null, {
    headers: {
      'accept-encoding': 'gzip, deflate, br',
      'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8',
      'origin': 'https://drive.google.com',
      'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/65.0.3325.181 Safari/537.36',
      'x-client-data': 'CKG1yQEIkbbJAQiitskBCMS2yQEIqZ3KAQioo8oBGLeYygE=',
      'x-drive-first-party': 'DriveWebUi',
      'x-json-requested': 'true'
    }
  })
Line 785: _tmp_165.origin = "https://drive.google.com"
Line 793: _tmp_167 = JSON.parse(data.slice(4))
Line 795: {
    download: downloadUrl,
    fileName,
    fileSize: `${(sizeBytes / (1024 * 1024)).toFixed(2)} MB`,
    mimetype: (await axios.head(downloadUrl)).headers['content-type'],
    extension: fileName.split('.').pop(),
    modified: (await axios.head(downloadUrl)).headers['last-modified']
  }
Line 799: _tmp_168.mimetype = await axios.head(downloadUrl).headers["content-type"]
Line 801: _tmp_168.modified = await axios.head(downloadUrl).headers["last-modified"]
Line 809: Buffer.isBuffer(input)
Line 812: /^https?:\/\//.test(input)
Line 813: let response = await axios.get(input, { responseType: 'arraybuffer' })
Line 814: Buffer.from(response.data)
Line 834: let sample = fs.readFileSync(outputna)
Line 836: acr.identify(sample).then((metadata) => {
            fs.unlinkSync(outputna)
            if (metadata.status.msg === 'No result') {
              return reject('Nggak ketemu :(')
            }

            let song = metadata.metadata.music[0]
            let spotify_data = song.external_metadata?.spotify
            let youtube_id = song.external_metadata?.youtube?.vid || null

            resolve({
              title: song.title,
              artists: song.artists.map(a => a.name).join(', '),
              album: song.album.name,
              release_date: song.release_date,
              label: song.label,
              duration: song.duration_ms,
              spotify: spotify_data?.track?.id ? { name: song.title, url: `https://open.spotify.com/track/${spotify_data.track.id}` } : null,
              youtube: youtube_id ? `https://www.youtube.com/watch?v=${youtube_id}` : null
            })
          })
Line 842: let song = metadata.metadata.music[0]
Line 848: song.artists.map(a => a.name).join(', ')
Line 853: _tmp_180.spotify = spotify_data.track.id ? { name: song.title, url: `https://open.spotify.com/track/${spotify_data.track.id}` } : null
Line 854: _tmp_180.youtube = youtube_id ? <operator>.formatString("https://www.youtube.com/watch?v=", youtube_id, "") : null
